<!-- SB_NameCard_SRegistSearchA
/**
 *
 * Salesforce1対応 取引先・取引先責任者へ登録 登録画面 取引先ルックアップ
 *
 * Copyright (C) 2016-2019 SunBridge Inc. All Rights Reserved.
 *
 *  @author sawano
 *  @Version 1    2016.04.xx  //
 *  @Version 2    2019.09.xx v2.4 SV_DEV-664 Saleesforce (S1)の取引先登録ルックアップでの検索で画面スクロールができなくなる。
 *
 **/
 -->
<apex:page docType="html-5.0" applyHtmlTag="false" showHeader="false" sidebar="false" standardStylesheets="false">
<!-- 取引先検索 -->
<head>
<style type="text/css">
.required {
  transition:0.5s linear all;
  background: white;
}
.required.ng-invalid {
  border-color: #ff4500;
  background:white;
}
</style>
</head>

<div class="container" style="padding-top: 5pt;">

<h4 data-fittext=".9" data-fittext-min="10" data-fittext-max="inherit" >{{labels.caption}}</h4>

<!-- 検索 -->
<form id="searchForm" name="searchForm" class="form-inline">
  <div class="form-group">
    <!-- <label for="exampleInputName2">{!$ObjectType.Account.Label}</label> -->
    <input type="text" class="form-control required" id="accountWord" ng-model="accountWord"
        uib-typeahead="recent for recent in recents | filter:$viewValue | limitTo:8" typeahead-min-length="0"
        required="true" ng-minlength="2" ng-maxLength="80" placeholder="{!$ObjectType.Account.Label}"/>
  </div>
  <button type="submit" class="btn btn-primary" ng-click="search()" ng-disabled="!searchForm.$valid || working" style="margin-bottom: 5px;">{!$Label.SB_NCS1R_Label_Search}</button>
</form>

<!-- 検索中 -->
<div ng-show="working" style="padding-top:40px; text-align:center">
  <i class="fa fa-spinner fa-pulse fa-2x" style="color:#4169e1"></i>
</div>

  <!-- 会社名リスト -->
  <div ng-show="!working && done" >
    <!-- 一致なし -->
    <p class="bg-warning" ng-show="companies.length === 0" ng-cloak="true">{{labels.notfound}}</p>
    <!-- 絞込む -->
    <div class="row" style="margin: 12px 0px 10px 10px;" ng-show="companies.length > 3">
      <input type="text" ng-model="searchFilter" placeholder="{!$Label.SB_NCS1R_Label_Filter}..." class="size-full plm prx pvm input input--default input--ph-1 input--focus-1" style="width:80%;"/>
    </div>
    <!-- 一覧 -->
    <div class="row">
      <div class="well well-sm" style="margin-left: 10px;" ng-repeat="item in companies | filter: searchFilter | orderBy:order.key:order.asc" ng-cloak="true">
        <h4 class="card-header">{{item.title}}</h4>
        <!-- <div class="card-block"> -->
          <div class="row"  ng-repeat="val in item.summary">
            <div class="col-xs-12">
            {{val}}
            </div>
          </div>
          <p class=""></p>
          <a class="btn btn-primary" ng-click="openDetail(item)">{!$Label.SB_NCS1R_Label_Detials}</a>
          <a class="btn btn-primary" ng-click="select(item)">{!$Label.SB_NCS1R_Label_Select}</a>
        <!-- </div> -->
      </div>
    </div>
  </div>

</div>

<br/>
<br/>
<br/>
<!-- ボタン -->
<nav class="navbar navbar-default navbar-fixed-bottom">
  <div style="padding:6px; text-align: center;">
    <!-- CANCEL ボタン -->
    <div class="btn btn-default pull-left" role="button" ng-disabled="editMode" ng-click="cancel()">
      <i class="fa fa-arrow-circle-o-left" aria-hidden="true">&nbsp;{!$Label.SB_NCS1R_Label_GoBack}</i>
    </div>
    <!-- OK ボタン -->
<!--     <div class="btn btn-default pull-right" role="button" ng-disabled="!isSelected()" ng-click="save()">
      <i class="fa  fa-check-circle-o" aria-hidden="true">&nbsp;OK</i>
    </div>
 -->  </div>
</nav>
</apex:page>