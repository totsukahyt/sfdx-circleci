<!-- /**
 *
 *  SB_NC_AccountBulkRegistRecordTypeConditionModal
 *  レコードタイプ選択用モーダルウィンドウ用コンポーネント
 *
 *  Copyright (C) 2019 SunBridge Inc. All Rights Reserved.
 *
 *  @author K.Yoshida
 *  @Version 2.2      2019.02.XX SV_DEV-1558 LEX 取引先登録 一括画面をLXパッケージ同様のLC化で追加
 *  @Version 2.4      2019.05.XX SV_DEV-1331 SLDS CSSクラス名変更対応
 *
 **/ -->
 <aura:component implements="force:lightningQuickActionWithoutHeader,force:hasRecordId,force:appHostable" access="global">

  <aura:attribute name="inputV" type="Sobject" /> <!-- 入力内容 -->
  <aura:attribute name="backupV" type="Sobject" /> <!-- 設定戻し用 -->
  <aura:attribute name="show" type="Boolean" /> <!-- 表示フラグ -->
  <aura:attribute name="disabledOKButton" type="Boolean" default="false"/> <!-- OKボタン使用可否フラグ -->
  <aura:attribute name="searchRecordTypesMap" type="Map" /> <!-- 選択されてレコードタイプMap -->
  <aura:handler name="accountBulkRegistEvent" event="c:SB_NC_AccountBulkRegistCommonEvent" action="{!c.modalSearchRecordTypeChanged}"/>
  
  <aura:registerEvent name="changeSearchCondition" type="c:SB_NC_AccountBulkRegistChangeSearchConditionEvent"/>

    <aura:renderIf isTrue="{!v.show}">
  	<div class="demo-only" style="height: 640px;z-index: 9999;">
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
      <div class="slds-modal__container">
        <header class="slds-modal__header">
          <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick="{!c.close}">
   <!--          <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
              <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close" xmlns:xlink="http://www.w3.org/1999/xlink" />
            </svg> -->
            <lightning:icon iconName="utility:close" size="small" />
            <span class="slds-assistive-text">Close</span>
          </button>
          <!-- <lightning:button iconName="utility:close" variant="neutral" onclick="{!c.close}" iconPosition="left" /> -->
          <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">{!v.inputV.searchConditionRct.title}</h2>
        </header>
        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
          <p>{!v.inputV.searchConditionCMtc.title}</p>
          <div class="slds-form_compound">
              <div class="slds-form-element__control">
                <div class="slds-m-left_large">
                  <div class="slds-form-element__row" style="align-items: flex-start;">
                    <fieldset class="slds-form_compound" style="display: inline-block;vertical-align:top;">
                      <div class="form-element__group">
                        <aura:iteration items="{!v.inputV.searchConditionCMtc.searchConditionpickListOptions}" var="condition" >
                          <span class="slds-radio">
                            <input type="radio" id="{!condition.Id}" name="searchConditionCompanyMatcing" onclick="{!c.searchConditionCMtcChange}" value="{!condition.value}" checked="{!v.inputV.selectedConditionCMtc==condition.value}" />
                            <label class="slds-radio__label" for="{!condition.Id}">
                              <span class="slds-radio--faux"></span>
                              <span class="media__figure">{!condition.label}</span>
                            </label>
                          </span>
                        </aura:iteration>
                      </div>
                    </fieldset>
                </div>
              </div>
            </div>
          </div>
          <aura:renderIf isTrue="{!or(v.inputV.searchConditionRct.accShow,v.inputV.searchConditionRct.conShow)}">
            <p>{!v.inputV.searchConditionRct.description}</p>
          </aura:renderIf>
          <div class="slds-form_compound">
            <div class="slds-form-element__control">
              <div class="slds-m-left_large">
                <div class="slds-form-element__row" style="align-items: flex-start;">
                  <!-- 取引先 -->
                  <aura:renderIf isTrue="{!v.inputV.searchConditionRct.accShow}">
                    <fieldset class="slds-form_compound" style="display: inline-block;vertical-align:top;">
                      <div class="form-element__group">
                        <fieldset class="slds-form-element" name="account">
                          <legend class="slds-form-element__label slds-form-element__label_top">
                            {!v.inputV.searchConditionRct.accTitle}
                          </legend>
                          <div class="slds-form-element__control">
                            <aura:iteration var="val" items="{!v.inputV.searchConditionRct.accRecordTypesCondition}">
                              <c:SB_NC_AccountBulkRegistCheckbox fieldName="account" checked="{!val.checked}" boxid="{!val.value}" boxlabel="{!val.label}" eventName="modalSearchRecordTypeEvent"/>
                            </aura:iteration>
                            <aura:if isTrue="{!v.inputV.searchConditionRct.accRestricted}">
                              {!$Label.c.SB_NC_LabelRestrictedRecordType}
                            </aura:if>
                          </div>
                        </fieldset>
                      </div>
                    </fieldset>
                  </aura:renderIf>
                  <!-- 取引先責任者 -->
                  <aura:renderIf isTrue="{!v.inputV.searchConditionRct.conShow}">
                    <fieldset class="slds-form_compound" style="display: inline-block;vertical-align:top;">
                      <div class="form-element__group">
                        <fieldset class="slds-form-element" name="contact">
                          <legend class="slds-form-element__label slds-form-element__label_top">
                            {!v.inputV.searchConditionRct.conTitle}
                          </legend>
                          <div class="slds-form-element__control">
                            <aura:iteration var="val" items="{!v.inputV.searchConditionRct.conRecordTypesCondition}">
                              <c:SB_NC_AccountBulkRegistCheckbox fieldName="contact" checked="{!val.checked}" boxid="{!val.value}" boxlabel="{!val.label}" eventName="modalSearchRecordTypeEvent"/>
                            </aura:iteration>
                            <aura:if isTrue="{!v.inputV.searchConditionRct.conRestricted}">
                              {!$Label.c.SB_NC_LabelRestrictedRecordType}
                            </aura:if>
                          </div>
                        </fieldset>
                      </div>
                    </fieldset>
                  </aura:renderIf>
                </div>
              </div>
            </div>
          </div>

        </div>
        <footer class="slds-modal__footer">
          <button class="slds-button slds-button_neutral" style="float: left;" onclick="{!c.close}">Cancel</button>
          <button disabled="{!v.disabledOKButton}" class="slds-button slds-button_brand" onclick="{!c.save}">OK</button>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </div>
</aura:renderIf>
</aura:component>