(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{219:function(e,t,n){e.exports=n(299)},230:function(e,t,n){var a={"./af":73,"./af.js":73,"./ar":74,"./ar-dz":75,"./ar-dz.js":75,"./ar-kw":76,"./ar-kw.js":76,"./ar-ly":77,"./ar-ly.js":77,"./ar-ma":78,"./ar-ma.js":78,"./ar-sa":79,"./ar-sa.js":79,"./ar-tn":80,"./ar-tn.js":80,"./ar.js":74,"./az":81,"./az.js":81,"./be":82,"./be.js":82,"./bg":83,"./bg.js":83,"./bm":84,"./bm.js":84,"./bn":85,"./bn.js":85,"./bo":86,"./bo.js":86,"./br":87,"./br.js":87,"./bs":88,"./bs.js":88,"./ca":89,"./ca.js":89,"./cs":90,"./cs.js":90,"./cv":91,"./cv.js":91,"./cy":92,"./cy.js":92,"./da":93,"./da.js":93,"./de":94,"./de-at":95,"./de-at.js":95,"./de-ch":96,"./de-ch.js":96,"./de.js":94,"./dv":97,"./dv.js":97,"./el":98,"./el.js":98,"./en-SG":99,"./en-SG.js":99,"./en-au":100,"./en-au.js":100,"./en-ca":101,"./en-ca.js":101,"./en-gb":102,"./en-gb.js":102,"./en-ie":103,"./en-ie.js":103,"./en-il":104,"./en-il.js":104,"./en-nz":105,"./en-nz.js":105,"./eo":106,"./eo.js":106,"./es":107,"./es-do":108,"./es-do.js":108,"./es-us":109,"./es-us.js":109,"./es.js":107,"./et":110,"./et.js":110,"./eu":111,"./eu.js":111,"./fa":112,"./fa.js":112,"./fi":113,"./fi.js":113,"./fo":114,"./fo.js":114,"./fr":115,"./fr-ca":116,"./fr-ca.js":116,"./fr-ch":117,"./fr-ch.js":117,"./fr.js":115,"./fy":118,"./fy.js":118,"./ga":119,"./ga.js":119,"./gd":120,"./gd.js":120,"./gl":121,"./gl.js":121,"./gom-latn":122,"./gom-latn.js":122,"./gu":123,"./gu.js":123,"./he":124,"./he.js":124,"./hi":125,"./hi.js":125,"./hr":126,"./hr.js":126,"./hu":127,"./hu.js":127,"./hy-am":128,"./hy-am.js":128,"./id":129,"./id.js":129,"./is":130,"./is.js":130,"./it":131,"./it-ch":132,"./it-ch.js":132,"./it.js":131,"./ja":56,"./ja.js":56,"./jv":133,"./jv.js":133,"./ka":134,"./ka.js":134,"./kk":135,"./kk.js":135,"./km":136,"./km.js":136,"./kn":137,"./kn.js":137,"./ko":138,"./ko.js":138,"./ku":139,"./ku.js":139,"./ky":140,"./ky.js":140,"./lb":141,"./lb.js":141,"./lo":142,"./lo.js":142,"./lt":143,"./lt.js":143,"./lv":144,"./lv.js":144,"./me":145,"./me.js":145,"./mi":146,"./mi.js":146,"./mk":147,"./mk.js":147,"./ml":148,"./ml.js":148,"./mn":149,"./mn.js":149,"./mr":150,"./mr.js":150,"./ms":151,"./ms-my":152,"./ms-my.js":152,"./ms.js":151,"./mt":153,"./mt.js":153,"./my":154,"./my.js":154,"./nb":155,"./nb.js":155,"./ne":156,"./ne.js":156,"./nl":157,"./nl-be":158,"./nl-be.js":158,"./nl.js":157,"./nn":159,"./nn.js":159,"./pa-in":160,"./pa-in.js":160,"./pl":161,"./pl.js":161,"./pt":162,"./pt-br":163,"./pt-br.js":163,"./pt.js":162,"./ro":164,"./ro.js":164,"./ru":165,"./ru.js":165,"./sd":166,"./sd.js":166,"./se":167,"./se.js":167,"./si":168,"./si.js":168,"./sk":169,"./sk.js":169,"./sl":170,"./sl.js":170,"./sq":171,"./sq.js":171,"./sr":172,"./sr-cyrl":173,"./sr-cyrl.js":173,"./sr.js":172,"./ss":174,"./ss.js":174,"./sv":175,"./sv.js":175,"./sw":176,"./sw.js":176,"./ta":177,"./ta.js":177,"./te":178,"./te.js":178,"./tet":179,"./tet.js":179,"./tg":180,"./tg.js":180,"./th":181,"./th.js":181,"./tl-ph":182,"./tl-ph.js":182,"./tlh":183,"./tlh.js":183,"./tr":184,"./tr.js":184,"./tzl":185,"./tzl.js":185,"./tzm":186,"./tzm-latn":187,"./tzm-latn.js":187,"./tzm.js":186,"./ug-cn":188,"./ug-cn.js":188,"./uk":189,"./uk.js":189,"./ur":190,"./ur.js":190,"./uz":191,"./uz-latn":192,"./uz-latn.js":192,"./uz.js":191,"./vi":193,"./vi.js":193,"./x-pseudo":194,"./x-pseudo.js":194,"./yo":195,"./yo.js":195,"./zh-cn":196,"./zh-cn.js":196,"./zh-hk":197,"./zh-hk.js":197,"./zh-tw":198,"./zh-tw.js":198};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=230},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n(27),c=n.n(i),s=n(310),l=n(311),u=n(307),m=n(309),d=n(12),p=n(206),f=n(2),E=n.n(f),h=function(e){return{type:"SET_ERROR",payload:e}},v=Object(d.c)({error:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return"SET_ERROR"===e.type&&e.payload||null}}),g=function(e){return e.app.error},b=n(25),O=n.n(b);function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _="localhost"===E.a.get(window,"location.hostname"),S=!1;window.addEventListener("online",function(e){S=!1});var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new O.a(function(n,a){if(_)return n([{},{}]);if(!window.navigator.onLine){if(!S)throw S=!0,new Error("\u30aa\u30d5\u30e9\u30a4\u30f3\u3067\u3059\uff01\uff01\uff01\u901a\u4fe1\u74b0\u5883\u306e\u826f\u3044\u5834\u6240\u3067\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044");return n([{},{}])}var r=window;if(r.namespace&&(r=r[r.namespace]),!E.a.get(r,["SB_NameCard_SImageController",e]))return a(new Error("Unknown sfdc action passed. action=".concat(e)));r.SB_NameCard_SImageController[e].apply(null,[].concat(y(t),[function(e,t){if(t.statusCode>=400)return a(t);n([e,t])},{buffer:!0,escape:!1,timeout:3e4}]))})},w={sfdc:{getSvcConfig:function(){return N("getSVConfig",[])},getListNames:function(){return N("getTagsOrListnames",[{apexType:"SB_NameCard_SImageController.GetTagsRequest",type:2,tagSecurity:1,excludeId:null}])},getDepartmentUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return N("getDepartmentUsers",[e,t])},saveUserSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N("saveUserSetting",[E.a.pick(e,["svcRepeatMemo","svcRepeatExchangeDate","svcKeepListName","svcLastListName","svcFreehandMemo","svcFrontOnly","svcShadeFilter"])])}}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(s){r=!0,o=s}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var k=function(e){return{type:"SET_CONFIG",payload:e}},P=!1,L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){if(e||!P)return t({type:"REQUEST_CONFIG"}),w.sfdc.getSvcConfig().then(function(e){var n=D(e,1)[0],a=void 0===n?{}:n;return P=!0,t(k({result:a})),a})}},C=function(e){return function(t){return t({type:"REQUEST_UPDATE_CONFIG"}),w.sfdc.saveUserSetting(e).then(function(e){var n=D(e,1)[0],a=void 0===n?{}:n;return t({type:"DONE_UPDATE_CONFIG"}),a})}},R={user:{language:"loading"},svcLastListName:"",svcFreehandMemo:!1,svcFrontOnly:!1,svcDoubleSide:!1,svcKeepListName:!1,svcRepeatExchangeDate:!1,svcRepeatMemo:!1,svcShadeFilter:!1},A=Object(d.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;return"SET_CONFIG"===t.type?j({},e,{},t.payload.result):e},isProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"REQUEST_CONFIG"===t.type||"REQUEST_UPDATE_CONFIG"===t.type||"SET_CONFIG"!==t.type&&"DONE_UPDATE_CONFIG"!==t.type&&e}}),x=function(e){return e.config.entities},U=function(e){return e.config.isProgress},M=n(58),F=n.n(M),G=n(59),H=n.n(G),z=n(207),Y=n.n(z),B=F.a.createStore([H.a],[Y.a]);function W(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(s){r=!0,o=s}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=!1,V=[],X=B.get("com.sunbridge.last_list_name")||"",Z=Object(d.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return"SET_LIST"===t.type?[].concat(W(e),W(t.payload.result)):e},isProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"REQUEST_LIST"===t.type||"SET_LIST"!==t.type&&e},lastListName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;return"REMEMBER_LIST_NAME"===t.type?t.payload.listName||"":e},lastInputListName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"REMEMBER_INPUT_LIST_NAME"===t.type?t.payload.listName:e}}),J=function(e){return e.list.entities},Q=function(e){return e.list.isProgress},$=function(e){return e.list.lastListName||""},ee=function(e){return e.list.lastInputListName||""};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach(function(t){ae(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re={svcFreehandMemo:null,svcFrontOnly:null,ownerId:null},oe=Object(d.c)({values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return"SET_OPTIONS"===t.type?ne({},e,{},t.payload):e}}),ie=function(e){return e.options.values},ce=n(1),se=n.n(ce);n(56);se.a.locale("ja");var le=se.a;function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach(function(t){de(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var fe="SET_PHOTO",Ee=function(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=o.repeatExchangeDate,s=void 0!==c&&c,l=o.repeatMemo,u=void 0!==l&&l;return function(o,c){if(i&&0===t){var l=le().format("YYYY-MM-DD");o({type:fe,payload:{index:t,photo:{exchangeDate:l}}})}if(o({type:fe,payload:{photo:e,index:t,side:n}}),r&&o({type:fe,payload:{index:t,photo:{orientation:r}}}),t>0){var m=Oe(c()),d=E.a.first(m),p=m[t],f={},h=i&&s&&!p.exchangeDate;if(!p.back)if(h)f.exchangeDate=d.exchangeDate;else{var v=e.exchangeDate||le().format("YYYY-MM-DD");o({type:fe,payload:{index:t,photo:{exchangeDate:v}}})}u&&!p.memo&&d.memo&&(f.memo=d.memo),E.a.isEmpty(f)||o({type:fe,payload:{photo:f,index:t,side:null}})}"single"===a&&o({type:fe,payload:{index:t,photo:{skip:!0},side:"back"}})}},he=function(e){return function(t,n){!function(e){E.a.get(e,"front.photoUrl")&&URL.revokeObjectURL(e.front.photoUrl),E.a.get(e,"back.photoUrl")&&URL.revokeObjectURL(e.back.photoUrl)}(Oe(n())[e]),t({type:"REMOVE_PHOTO",payload:{index:e}})}},ve=[],ge=B.get("com.sunbridge.photo_histories")||[],be=Object(d.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;if(t.type===fe){console.log("state"),console.log(e);var n=pe(e),a=[t.payload.index];return t.payload.side&&a.push(t.payload.side),E.a.set(n,a,me({},E.a.get(n,a),{},t.payload.photo)),n}if("REMOVE_PHOTO"===t.type){var r=pe(e);return r.splice(t.payload.index,1),r}return"RESET_PHOTO"===t.type?ve:e},histories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;if("REMEMBER_HISTORY"===t.type){var n=E.a.map(t.payload.photos,function(e){return me({},E.a.pick(e,["exchangeDate","memo"]),{sentDate:le().format("YYYY-MM-DD HH:mm:ss")})});return E.a.take([].concat(pe(n),pe(e)),10)}return e}}),Oe=function(e){return e.photos.entities},ye=function(e){return e.photos.entities.length>=20},_e=function(e){return e.photos.histories};function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(s){r=!0,o=s}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ne=function(e){return{type:"SET_USERS",payload:e}},we=[],Te=Object(d.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;if("SET_USERS"===t.type){var n=E.a.get(t.payload.result,["dept2Users","\u5168\u3066"])||E.a.get(t.payload.result,["dept2Users","All"])||[];return n}return e},departments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_USERS"===t.type?t.payload.result.departments:e},isProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"REQUEST_USERS"===t.type||"SET_USERS"!==t.type&&e},isUnderLimit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_USERS"===t.type?t.payload.result.underLimit:e}}),je=function(e){return e.users.entities},Ie=function(e){return e.users.departments},De=function(e){return e.users.isProgress},ke=function(e){return e.users.isUnderLimit};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce={app:v,config:A,list:Z,options:oe,photos:be,users:Te},Re=function(e){return Object(d.c)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(n,!0).forEach(function(t){Le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Ce,{},e))},Ae=[p.a],xe=Object(d.e)(Re(),Object(d.d)(d.a.apply(void 0,Ae),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));xe.injectedReducers={};var Ue=xe,Me=n(7),Fe=n.n(Me),Ge=n(211),He=n(6),ze=n(28),Ye=E.a.get(window,"configFromEnv.resourceRoot",""),Be=Object(He.b)(Object(He.f)("SvgIcon"))(function(e){var t=e.style,n=void 0===t?{}:t,a=e.name,o=e.className,i="svg-icon svg-".concat(a,"-dims");return o&&(i+=" ".concat(o)),r.a.createElement("svg",{className:i,style:n},r.a.createElement("use",{xlinkHref:"".concat(Ye,"/img/sprite.svg#").concat(a)}))}),We=n(67),qe=n.n(We),Ke=n(308),Ve=n(53),Xe={ja:{OPTION:"\u30aa\u30d7\u30b7\u30e7\u30f3",LIST_LABEL:"\u30bf\u30c3\u30d7\u3057\u3066\u540d\u523a\u3092\u64ae\u5f71",MODE_BOTH_SIDE:"\u4e21\u9762\u64ae\u5f71",MODE_FRONT_SIDE:"\u304a\u3082\u3066\u306e\u307f\u64ae\u5f71",FRONT_SIDE:"\u304a\u3082\u3066",BACK_SIDE:"\u3046\u3089",EXCHANGE_DAY:"\u540d\u523a\u4ea4\u63db\u65e5",NOTE:"\u30e1\u30e2",NOTE_PLACEHOLDER:"\u30e1\u30e2\u3092\u8a18\u5165\u3067\u304d\u307e\u3059",SELECT_IMAGE:"\u540d\u523a\u753b\u50cf\u3092\u9078\u629e",READJUST:"\u518d\u8abf\u6574",EDIT_SAVE:"\u4fdd\u5b58",EDIT_DELETE:"\u524a\u9664",SENT_HISTORY:"\u9001\u4fe1\u5c65\u6b74",INPUT_DISABLED:"(\u7de8\u96c6\u4e0d\u53ef)",OPTION_DIGITAIZE_HANDWRITTEN_NOTES:"\u624b\u66f8\u304d\u30e1\u30e2\u3092\u30c7\u30b8\u30bf\u30eb\u5316\u3059\u308b\uff08\u8868\u9762\u306e\u307f\uff09",OPTION_DIGITAIZE_FRONT_SIDE_ONLY:"\u8868\u9762\u306e\u307f\u3092\u30c7\u30b8\u30bf\u30eb\u5316\u3059\u308b",SETTINGS_INFO_PER_CARD:"\u540d\u523a\u5358\u4f4d\u306e\u60c5\u5831\u306b\u3064\u3044\u3066",SETTINGS_INFO_PER_TRANSMISSION:"\u9001\u4fe1\u5358\u4f4d\u306e\u60c5\u5831\u306b\u3064\u3044\u3066",SETTINGS_TITLE:"\u9001\u4fe1\u8a2d\u5b9a",SETTINGS_KEEP_NOTES:"\u30e1\u30e2\u3092\u5f15\u304d\u7d99\u3050",SETTINGS_REMOVE_SHADOW:"\u9670\u5f71\u9664\u53bb",SETTINGS_KEEP_CARD_EXCHANGE_DATE:"\u540d\u523a\u4ea4\u63db\u65e5\u3092\u5f15\u304d\u7d99\u3050",SETTINGS_KEEP_LIST_NAME:"\u540d\u523a\u30ea\u30b9\u30c8\u540d\u3092\u899a\u3048\u3066\u304a\u304f",SETTINGS_DIGITAIZE_HANDWRITTEN_NOTES:"\u624b\u66f8\u304d\u30e1\u30e2\u3092\u30c7\u30b8\u30bf\u30eb\u5316\u3059\u308b\uff08\u8868\u9762\u306e\u307f\uff09",SETTINGS_DIGITAIZE_FRONT_SIDE_ONLY:"\u8868\u9762\u306e\u307f\u3092\u30c7\u30b8\u30bf\u30eb\u5316\u3059\u308b",SETTINGS_SAVE:"\u4fdd\u5b58",OWNER:"\u6240\u6709\u8005",LIST_TITLE:"\u540d\u523a\u306e\u8aad\u307f\u53d6\u308a",LIST_TITLE_KEEP:"\u9001\u4fe1\u524d\u306e\u540d\u523a",LIST_TITLE_KEEP_POSTFIX:"\u679a",LIST_NAME:"\u30ea\u30b9\u30c8\u540d\uff08\u65e2\u5b58\uff09",LIST_EXCHANGE_DAY:"\u540d\u523a\u4ea4\u63db\u65e5",OWNER_DEPARTMENT:"\u90e8\u7f72",OWNER_FILTER:"\u30d5\u30a3\u30eb\u30bf",OWNER_PLACEHOLDER:"\u6c0f\u540d | \u30e6\u30fc\u30b6\u540d | \u30e1\u30fc\u30eb | \u90e8\u7f72",OWNER_NO_SELECTION:"--\u672a\u9078\u629e--",OWNER_CLOSE:"\u9589\u3058\u308b",OWNER_SELECT:"\u9078\u629e",SEND_LIMIT:"\u4e00\u5ea6\u306b\u9001\u308c\u308b\u679a\u6570\u306e\u4e0a\u9650\u306b\u9054\u3057\u3066\u3044\u307e\u3059",NEW_LIST_NAME:"\u30ea\u30b9\u30c8\u540d\uff08\u65b0\u898f\u4f5c\u6210\uff09",CARD_COUNT_POSTFIX:"\u679a\u76ee",ADJUST_FRONT_SIDE:"\u304a\u3082\u3066\u306e\u8abf\u6574",ADJUST_BACK_SIDE:"\u3046\u3089\u306e\u8abf\u6574",SHOOT:"\u753b\u50cf\u3092\u64ae\u5f71",RESHOOT:"\u518d\u64ae\u5f71",SWITCH:"\u7e26\u6a2a\u5207\u308a\u66ff\u3048",ROTATE:"\u56de\u8ee2",ROTATE_90:"90\u5ea6\u56de\u8ee2",AUTO_CORRECTION:"\u81ea\u52d5\u88dc\u6b63",NEXT:"\u6b21\u3078",SAVE:"\u9001\u4fe1\u3059\u308b",PROCESSING:"\u9001\u4fe1\u4e2d",SEND_COMPLETE_TITLE:"\u9001\u4fe1\u5b8c\u4e86",CONTINUE_SHOOT:"\u7d9a\u3051\u3066\u64ae\u5f71\u3059\u308b",HISTORY_NOTES:"\u203b\u76f4\u8fd110\u4ef6\u306e\u307f",HISTORY_SHOW_LOGS:"\u9001\u4fe1\u6642\u306e\u8a73\u7d30\u306a\u30ed\u30b0\u3092\u8868\u793a",HISTORY_SEND_DATE:"\u9001\u4fe1\u65e5\u6642",HISTORY_EXCHANGE_DAY:"\u4ea4\u63db\u65e5",LOGS_TITLE:"\u9001\u4fe1\u30ed\u30b0",LOGS_EMPTY:"\u524d\u56de\u306e\u30ed\u30b0\u304c\u3042\u308a\u307e\u305b\u3093",LOGS_LABEL:"\u9001\u4fe1\u30ed\u30b0",LOGS_FAILED:"\u9001\u4fe1\u304c\u5b8c\u4e86\u3057\u307e\u305b\u3093\u3067\u3057\u305f"},en_US:{OPTION:"option",LIST_LABEL:"Tap & Shoot",MODE_BOTH_SIDE:"Both Sides",MODE_FRONT_SIDE:"Front Side",FRONT_SIDE:"Front",BACK_SIDE:"Back",EXCHANGE_DAY:"Exchange Date",NOTE:"Notes",NOTE_PLACEHOLDER:"You can write notes",SELECT_IMAGE:"Select",READJUST:"Readjust",EDIT_SAVE:"Save",EDIT_DELETE:"Delete",SENT_HISTORY:"Transmission History",INPUT_DISABLED:"(Disabled)",OPTION_DIGITAIZE_HANDWRITTEN_NOTES:"Digitize handwritten notes(Front side only)",OPTION_DIGITAIZE_FRONT_SIDE_ONLY:"Digitize front side only",SETTINGS_INFO_PER_CARD:"Information per Card",SETTINGS_INFO_PER_TRANSMISSION:"Information per Transmission",SETTINGS_TITLE:"Settings",SETTINGS_KEEP_NOTES:"Keep Notes",SETTINGS_REMOVE_SHADOW:"Remove Shade",SETTINGS_KEEP_CARD_EXCHANGE_DATE:"Keep Card Exchange Date",SETTINGS_KEEP_LIST_NAME:"Keep List Name",SETTINGS_DIGITAIZE_HANDWRITTEN_NOTES:"Digitize Handwritten Notes(Front Side Only)",SETTINGS_DIGITAIZE_FRONT_SIDE_ONLY:"Digitize front side only",SETTINGS_SAVE:"SAVE",OWNER:"Owner",LIST_TITLE:"Capture Cards",LIST_TITLE_KEEP:"Ready to Submit",LIST_TITLE_KEEP_POSTFIX:"",LIST_NAME:"List Name",LIST_EXCHANGE_DAY:"Exchange Date",OWNER_DEPARTMENT:"Department",OWNER_FILTER:"Filter",OWNER_PLACEHOLDER:"Name | User Name | E-Mail | Department",OWNER_NO_SELECTION:"--Unselected--",OWNER_CLOSE:"Close",OWNER_SELECT:"Select",SEND_LIMIT:"You have exceeded the limit you can send at once",NEW_LIST_NAME:"New List Name",CARD_COUNT_POSTFIX:"st",ADJUST_FRONT_SIDE:"Adjust Front",ADJUST_BACK_SIDE:"Adjust Back",SHOOT:"shoot",RESHOOT:"reshoot",SWITCH:"Switch",ROTATE:"rotation",ROTATE_90:"90deg",AUTO_CORRECTION:"Auto Transform",NEXT:"Next",SAVE:"Submit",PROCESSING:"Processing",SEND_COMPLETE_TITLE:"Complete",CONTINUE_SHOOT:"Continue",HISTORY_NOTES:"\u203blast 10 history",HISTORY_SHOW_LOGS:"Log Detail",HISTORY_SEND_DATE:"Send Date",HISTORY_EXCHANGE_DAY:"Exchange Date",LOGS_TITLE:"Send Log",LOGS_EMPTY:"No Logs",LOGS_LABEL:"Send Log",LOGS_FAILED:"Failed"},loading:{}};E.a.forEach(Xe.ja,function(e,t){Xe.loading[t]=" "});var Ze=Xe;function Je(e){return(Je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function et(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function tt(e,t){return!t||"object"!==Je(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ot=function(e){function t(){return Qe(this,t),tt(this,nt(t).apply(this,arguments))}return at(t,a["Component"]),et(t,[{key:"render",value:function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"52",viewBox:"0 0 52 52"},r.a.createElement("title",null,"close"),r.a.createElement("path",{fill:"currentColor",d:"M31.6,25.8,44.7,12.7a1.45,1.45,0,0,0,0-2.1L42.6,8.5a1.45,1.45,0,0,0-2.1,0L27.4,21.6a1,1,0,0,1-1.4,0L12.9,8.4a1.45,1.45,0,0,0-2.1,0L8.7,10.5a1.45,1.45,0,0,0,0,2.1L21.8,25.7a1,1,0,0,1,0,1.4L8.6,40.3a1.45,1.45,0,0,0,0,2.1l2.1,2.1a1.45,1.45,0,0,0,2.1,0L26,31.4a1,1,0,0,1,1.4,0L40.5,44.5a1.45,1.45,0,0,0,2.1,0l2.1-2.1a1.45,1.45,0,0,0,0-2.1L31.6,27.2A1.2,1.2,0,0,1,31.6,25.8Z"}))}}]),t}(),it=function(e){function t(){return Qe(this,t),tt(this,nt(t).apply(this,arguments))}return at(t,a["Component"]),et(t,[{key:"render",value:function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"52",height:"52",viewBox:"0 0 52 52"},r.a.createElement("title",null,"warning"),r.a.createElement("path",{fill:"currentColor",d:"M51.38,42.5l-22.9-37a2.83,2.83,0,0,0-5,0L.58,42.5c-1.4,2.3,0,5.5,2.5,5.5h45.8C51.38,48,52.88,44.8,51.38,42.5ZM26,40a3,3,0,1,1,3-3A2.95,2.95,0,0,1,26,40Zm3-9a.94.94,0,0,1-1,1H24a.94.94,0,0,1-1-1V18a.94.94,0,0,1,1-1h4a.94.94,0,0,1,1,1Z"}))}}]),t}();function ct(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ut=Object(He.b)(Object(He.a)(function(e){return"textarea"===e.field.type},Object(He.e)(function(e){var t=e.field,n=lt(e,["field"]),a=t.name,o=t.label,i=t.placeholder,c=t.disabled,s=void 0!==c&&c,l="c-field";return s&&(l+=" is-disabled"),r.a.createElement("div",{className:l},r.a.createElement("div",{className:"c-field_inner"},r.a.createElement("label",null,r.a.createElement("span",{className:"c-inputbox_label"},o),r.a.createElement("textarea",st({className:"c-inputbox c-input--textarea",placeholder:i,autoComplete:"","aria-required":"false",rows:"7",cols:"",name:a,disabled:s},n.bind,{value:n.bind.value||""})))))}),E.a.identity),Object(He.a)(function(e){return"date"===e.field.type&&!/[ (]iP/.test(navigator.userAgent)},Object(He.e)(function(e){var t=e.field,n=e.config,a=e.formProps,o=lt(e,["field","config","formProps"]),i=(t.name,t.label),c=(t.placeholder,t.disabled),s=void 0!==c&&c,l=t.required,u=t.type,m=void 0===u?"text":u,d="ja"===n.user.language?"ja":"enUS";Object(We.registerLocale)(d,"ja"===d?Ke.a:Ve.a);var p="c-field";s&&(p+=" is-disabled");var f="c-inputbox_label c-inputbox_label--date";l&&(f+=" c-inputbox_label--required");return r.a.createElement("div",{className:p},r.a.createElement("div",{className:"c-field_inner"},r.a.createElement("label",null,r.a.createElement("span",{className:f},i,s?E.a.get(Ze,[n.user.language,"INPUT_DISABLED"],""):"",l?r.a.createElement("span",null,"*"):"")),r.a.createElement(qe.a,{ref:function(e){},locale:"ja",dateFormat:"yyyy-MM-dd",className:"c-inputbox c-input--date",onFocus:function(e){e.target.readOnly=!0},onBlur:function(e){e.target.readOnly=!1},shouldCloseOnSelect:!0,selected:o.bind.value?new Date(le(o.bind.value)):"",onChange:function(e){o.set(le(e).format("YYYY-MM-DD"))}}),"date"===m&&r.a.createElement("div",{onClick:function(){a.setValues({exchangeDate:""})}},r.a.createElement(ot,null))))}),E.a.identity),Object(He.a)(function(e){return"checkbox"===e.field.type},Object(He.e)(function(e){var t=e.field,n=lt(e,["field"]),a=t.name,o=t.label,i=t.onChange;return r.a.createElement("div",{className:"c-field"},r.a.createElement("div",{className:"c-field_inner c-field_inner--checkbox"},r.a.createElement("div",{className:"c-checkbox"},r.a.createElement("input",{className:"c-input--checkbox",id:a,type:"checkbox",name:a,checked:n.value||!1,onChange:function(e){i&&i(e),n.set(e.target.checked)}})),r.a.createElement("label",{className:"c-checkbox_label c-checkbox_label_small",htmlFor:a},o)))}),E.a.identity),Object(He.a)(function(e){return"select"===e.field.type},Object(He.e)(function(e){var t=e.onClick,n=e.field,a=e.disabled,o=lt(e,["onClick","field","disabled"]),i=n.name,c=n.label,s=n.required,l=n.options,u=n.onChange,m=n.allowNull,d="c-field";a&&(d+=" is-disabled");var p="c-inputbox_label";s&&(p+=" c-inputbox_label--required");var f="c-inputbox c-input--select";return t&&(d+=" cursor-pointer",f+=" pointer-events-none"),r.a.createElement("div",{className:d,onClick:t||E.a.noop},r.a.createElement("div",{className:"c-field_inner c-field_inner--select"},r.a.createElement("label",{className:p,htmlFor:i},c,s?r.a.createElement("span",null,"*"):""),r.a.createElement("select",{className:f,id:i,"aria-required":"true",value:o.value||"",onClick:t,onChange:function(e){u&&u(e),o.set(e.target.value)}},(!o.value||m)&&r.a.createElement("option",{value:""},"-"),E.a.map(l,function(e){return r.a.createElement("option",{key:e.value,value:n.valIsLabel?e.label:e.value},e.label)}))))}),E.a.identity),Object(He.a)(function(e){return"select-tag"===e.field.type},Object(He.e)(function(e){var t=e.field,n=lt(e,["field"]),a=t.tags,o=n.value,i=n.set,c=o||[],s=t.idAttribute||function(e){return e};return r.a.createElement("div",{className:"c-field"},r.a.createElement("ul",{className:"c-tag"},E.a.map(a,function(e){var t=e.label,n="c-status",a=!!E.a.includes(c,s(e));return a&&(n+=" is_checked"),r.a.createElement("li",{key:t,className:n},r.a.createElement("a",{href:"",onClick:function(t){if(t.preventDefault(),a)return i(E.a.without(c,s(e)));i(E.a.uniq([].concat(ct(c),[s(e)])))}},t))})))}),E.a.identity))(function(e){var t=e.field,n=e.config,a=e.formProps,o=lt(e,["field","config","formProps"]),i=t.name,c=t.label,s=t.placeholder,l=t.disabled,u=void 0!==l&&l,m=t.required,d=t.type,p=void 0===d?"text":d,f="c-field";u&&(f+=" is-disabled");var h="c-inputbox_label";return m&&(h+=" c-inputbox_label--required"),r.a.createElement("div",{className:f},r.a.createElement("div",{className:"c-field_inner"},r.a.createElement("label",null,r.a.createElement("span",{className:h},c,u?E.a.get(Ze,[n.user.language,"INPUT_DISABLED"],""):"",m?r.a.createElement("span",null,"*"):""),r.a.createElement("input",st({className:"c-inputbox c-input--text",type:p,placeholder:s,"aria-required":"true",name:i,disabled:u,required:m},o.bind,{value:o.bind.value||""}))),"date"===p&&r.a.createElement("div",{onClick:function(){a.setValues({exchangeDate:""})}},r.a.createElement(ot,null))))}),mt=function(e){var t=e.className;return r.a.createElement("div",{className:"u-loading ".concat(t||"")})},dt=Object(He.a)(function(e){return e.loading},Object(He.e)(function(){return r.a.createElement(mt,null)}),E.a.identity),pt=function(e){return E.a.pick(e,["svcRepeatMemo","svcRepeatExchangeDate","svcShadeFilter","svcKeepListName","svcLastListName","svcFreehandMemo","svcFrontOnly","svcDoubleSide","svcImageTransform","sCameraEnableOwnerSelect","sDisableCameraLauncher","sSmartViscaServer","sScannerName","sSmartViscaServeServiceID","user","sSmartViscaServerOptions","smartviscaMobilePage"])},ft=function(e){return e.label},Et={requestConfig:L,requestUpdateConfig:C},ht=Object(o.b)(function(e){return{config:pt(x(e)),isConfigProgress:U(e)}},Et);function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function gt(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}var bt=Object(He.b)(ht,Ge.a,Object(He.d)("isConfigProgress","loading"),Object(He.c)({componentDidMount:function(){this.props.requestConfig()}}),Object(He.g)({onSave:function(e){var t=e.requestUpdateConfig,n=e.requestConfig;return function(){var e,a=(e=Fe.a.mark(function e(a){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:return e.abrupt("return",n(!0));case 3:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){gt(o,a,r,i,c,"next",e)}function c(e){gt(o,a,r,i,c,"throw",e)}i(void 0)})});return function(e){return a.apply(this,arguments)}}()}}),dt)(function(e){var t=e.config,n=e.onSave,a=e.history,o=[{name:"svcRepeatMemo",label:Ze[t.user.language].SETTINGS_KEEP_NOTES,type:"checkbox"},{name:"svcRepeatExchangeDate",label:Ze[t.user.language].SETTINGS_KEEP_CARD_EXCHANGE_DATE,type:"checkbox"},{name:"svcShadeFilter",label:Ze[t.user.language].SETTINGS_REMOVE_SHADOW,type:"checkbox"}],i=[{name:"svcKeepListName",label:Ze[t.user.language].SETTINGS_KEEP_LIST_NAME,type:"checkbox"},{name:"svcFreehandMemo",label:Ze[t.user.language].SETTINGS_DIGITAIZE_HANDWRITTEN_NOTES,type:"checkbox"},{name:"svcFrontOnly",label:Ze[t.user.language].SETTINGS_DIGITAIZE_FRONT_SIDE_ONLY,type:"checkbox"}];return r.a.createElement(ze.a,{initial:t},function(e){return r.a.createElement("div",{className:"l-contents"},r.a.createElement("div",{className:"l-contents_main"},r.a.createElement("div",{className:"l-contents_head"},r.a.createElement("div",{className:"l-contents_headinner"},r.a.createElement("div",{className:"l-contents_title u-c_k50"},Ze[t.user.language].SETTINGS_TITLE),r.a.createElement("a",{className:"l-right c-icon c-icon_close c-icon_close-b",onClick:function(){a.push("/capture/list".concat(window.rn()))}},r.a.createElement(Be,{name:"close",style:{color:"#0070d2"}})))),r.a.createElement("div",{className:"l-contents_body l-has_footer-buttons"},r.a.createElement("form",null,r.a.createElement("div",{className:"l-editpage"},r.a.createElement("p",{className:"p-capturesetting"},Ze[t.user.language].SETTINGS_INFO_PER_CARD),E.a.map(o,function(n){return r.a.createElement(ut,vt({key:n.name,config:t,field:n},e.field(n.name)))}),r.a.createElement("p",{className:"p-capturesetting"},Ze[t.user.language].SETTINGS_INFO_PER_TRANSMISSION),E.a.map(i,function(n){return r.a.createElement(ut,vt({key:n.name,config:t,field:n},e.field(n.name)))})))),r.a.createElement("div",{className:"l-buttons"},r.a.createElement("div",{className:"l-main-button"},r.a.createElement("a",{className:"c-button",onClick:function(){return n(e.values)}},Ze[t.user.language].SETTINGS_SAVE)))))})}),Ot={requestConfig:L,requestUpdateConfig:C},yt=Object(o.b)(function(e){return{config:pt(x(e)),isConfigProgress:U(e)}},Ot),_t=n(69),St=n.n(_t),Nt=function(e){St.a.set("com.sunbridge.photo_logs",e)},wt=Object(He.b)(yt,Ge.a,Object(He.d)("isConfigProgress","loading"),Object(He.c)({componentDidMount:function(){this.props.requestConfig()}}),dt)(function(e){var t=e.config,n=(e.onSave,e.history),a=St.a.get("com.sunbridge.photo_logs")||[];return r.a.createElement("div",{className:"l-contents"},r.a.createElement("div",{className:"l-contents_main"},r.a.createElement("div",{className:"l-contents_head"},r.a.createElement("div",{className:"l-contents_headinner"},r.a.createElement("div",{className:"l-contents_title u-c_k50"},Ze[t.user.language].LOGS_TITLE),r.a.createElement("a",{className:"l-right c-icon c-icon_close c-icon_close-b",onClick:function(){return n.goBack()}},r.a.createElement(Be,{name:"close",style:{color:"#0070d2"}})))),r.a.createElement("div",{className:"l-contents_body l-has_footer-buttons"},(!a||!a.start)&&r.a.createElement("div",null,Ze[t.user.language].LOGS_EMPTY),a&&a.start&&r.a.createElement("div",{className:"log"},r.a.createElement("div",null,"date:",a.start.date),r.a.createElement("div",null,r.a.createElement("div",null,"SendScanLotData ",a.start.start?"Start":"not Start"),r.a.createElement("div",null,"SendScanLotData ",a.start.ok?"OK":"not OK")),r.a.createElement("div",{className:"log-logs"},E.a.map(a.logs,function(e,n){return r.a.createElement("div",{className:"card-log"},r.a.createElement("div",{className:"log-num"},Ze[t.user.language].LOGS_LABEL,": ",n+1),r.a.createElement("div",{className:"card-log-front"},r.a.createElement("div",null,"SendCardData ",e.front.start?"Start":"not Start"),r.a.createElement("div",null,"SendCardData ",e.front.ok?"OK":"not OK")),r.a.createElement("div",{className:"card-log-back"},r.a.createElement("div",null,"SendCardData ",e.back.start?"Start":"not Start"),r.a.createElement("div",null,"SendCardData ",e.back.ok?"OK":"not OK")))})),!a.end&&r.a.createElement("div",null,Ze[t.user.language].LOGS_FAILED),a&&a.end&&r.a.createElement("div",null,r.a.createElement("div",null,"SendEnd ",a.end.start?"Start":"not Start"),r.a.createElement("div",null,"SendEnd ",a.end.ok?"OK":"not OK"))))))}),Tt=n(305),jt=n(306),It=n(24);function Dt(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}function kt(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){Dt(o,a,r,i,c,"next",e)}function c(e){Dt(o,a,r,i,c,"throw",e)}i(void 0)})}}var Pt=window.rit.default,Lt=function(){var e=kt(Fe.a.mark(function e(t,n,a){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.fetch(t).then(function(e){return e.arrayBuffer()}).then(function(e){return new window.File([e],n,{type:a})}));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Ct=function(){var e=kt(Fe.a.mark(function e(t){var n,a,r=arguments;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],!E.a.isString(t)||!E.a.startsWith(t,"blob:")){e.next=5;break}return e.next=4,Lt(t,"temp.jpg","image/jpeg");case 4:t=e.sent;case 5:return a={shade:n,gabage1:n,gabage2:n},e.abrupt("return",new O.a(function(e,n){new Pt(a,{scale:.8},{size:7,compensation:7},1200,600,null).run(t,function(t){return e(t.toDataURL("image/jpeg",1))},n)}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt={width:295,height:179},Ut=function(e){return e.width>e.height?"horizontal":"vertical"},Mt=function(e,t,n,a){var r=window.devicePixelRatio,o=e.canvas.width,i=e.canvas.height,c=o/r,s=i/r,l=t.width,u=t.height,m=!1;a?(a.width=a.width*r,a.height=a.height*r):(a={width:o,height:i},m="horizontal"===(n=Ut(t))?l>c:u>s);var d=a.width,p=(a.height,1);p="horizontal"===n?m?o/l:d/l:m?i/u:d/u,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],o=t[2],i=t[3],c=t[4],s=t[5],l=t[6],u=t[7];2===t.length&&(o=i=0,c=a.canvas.width,s=a.canvas.height),(l="number"===typeof l?l:.5)<0&&(l=0),(u="number"===typeof u?u:.5)<0&&(u=0),l>1&&(l=1),u>1&&(u=1);var m,d,p,f,E=r.width,h=r.height,v=Math.min(c/E,s/h),g=E*v,b=h*v,O=1;g<c&&(O=c/g),Math.abs(O-1)<1e-14&&b<s&&(O=s/b),(m=(E-(p=E/((g*=O)/c)))*l)<0&&(m=0),(d=(h-(f=h/((b*=O)/s)))*u)<0&&(d=0),p>E&&(p=E),f>h&&(f=h),a.drawImage(r,m,d,p,f,o,i,c,s)}(e,t,o/2-(l*=p=Math.round(100*p)/100)/2,i/2-(u*=p)/2,l,u)},Ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.canvas.width,a=e.canvas.height;e.translate(n/2,a/2),e.rotate(t*Math.PI/180),e.translate(-n/2,-a/2)},Gt=function(e){e.setTransform(1,0,0,1,0,0)},Ht=function(e,t){E.a.some(["mozImageSmoothingEnabled","msImageSmoothingEnabled","oImageSmoothingEnabled","webkitImageSmoothingEnabled","imageSmoothingEnabled"],function(n){return void 0!==e[n]&&(e[n]=t,!0)})},zt=function(e,t,n){var a=window.devicePixelRatio,r=e.canvas.width,o=e.canvas.height,i=t*a,c=n*a,s=e.getImageData((r-i)/2,(o-c)/2,i,c),l=document.createElement("canvas");l.width=i,l.height=c;var u=l.getContext("2d");return u.rect(0,0,i,c),u.fillStyle="white",u.fill(),u.putImageData(s,0,0),l},Yt=function(e,t,n){var a=window.devicePixelRatio,r=e.canvas.width,o=e.canvas.height;if(n||(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(n,!0).forEach(function(t){At(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},xt)),n.width=n.width*a,n.height=n.height*a,"vertical"===t){var i=[n.height,n.width];n.width=i[0],n.height=i[1]}e.fillStyle="rgba(0, 0, 0, .5)",e.fillRect(0,0,r,o),e.clearRect((r-n.width)/2,(o-n.height)/2,n.width,n.height)};function Bt(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Vt=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.opts=a,this.initialize(t,n),this.bindZoomHandler()}var t,n,a;return t=e,(n=[{key:"initialize",value:function(e,t){this.canvasRef=e,this.maskRef=t,this.canvas=It.c(this.canvasRef),this.mask=It.c(this.maskRef),this.ctx=this.canvasRef.getContext("2d"),this.maskCtx=this.maskRef.getContext("2d"),this.autoAdjustmentEnabled=E.a.get(this.opts,"isAutoAdjustmentEnabled",!1),this.cropOrientation=E.a.get(this.opts,"cropOrientation","horizontal"),this.image=null,this.rotation=0,this.rawPhotoUrl=null,this.currentPhotoUrl=null,this.resize()}},{key:"bindZoomHandler",value:function(){var e=this;this.zoom=It.d().filter(function(){return It.a.ctrlKey||!It.a.button}).scaleExtent([.5,2]).on("zoom",function(){e.setTransform(It.a.transform),e.draw()}),this.canvas.call(this.zoom)}},{key:"setRotation",value:function(e){this.rotation=e}},{key:"setScale",value:function(e){this.canvas.call(this.zoom.scaleTo,e)}},{key:"setTransform",value:function(e){this.transform=e}},{key:"rotate",value:function(e){var t=this;return this.setRotation(e),window.requestAnimationFrame(function(){return t.draw()})}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=E.a.get(this,"transform.k",1);this.setScale(t+e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=E.a.get(this,"transform.k",1);this.setScale(t-e)}},{key:"fitAndDrawImage",value:function(e){var t=this.autoAdjustmentEnabled?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach(function(t){qt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},xt):null;Mt(this.ctx,e,this.cropOrientation,t)}},{key:"renderCaptureArea",value:function(){Yt(this.maskCtx,this.cropOrientation)}},{key:"cropAndSerializeCanvasAsDataURL",value:function(){var e=xt.width,t=xt.height;if("vertical"===this.cropOrientation){var n=[t,e];e=n[0],t=n[1]}return zt(this.ctx,e,t).toDataURL("image/jpeg",1)}},{key:"setAutoAdjustment",value:function(e){this.autoAdjustmentEnabled=e}},{key:"setCropOrientation",value:function(e){this.cropOrientation=e}},{key:"clear",value:function(){Gt(this.ctx),this.ctx.clearRect(0,0,this.cw,this.ch),this.maskCtx.clearRect(0,0,this.cw,this.ch)}},{key:"loadImage",value:function(){var e,t=(e=Fe.a.mark(function e(t){var n,a,r,o=this;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=E.a.isString(t)?t:URL.createObjectURL(t),a=n,!this.autoAdjustmentEnabled){e.next=15;break}return r=this.opts.enableShadeFilter,e.prev=4,e.next=7,Ct(n,r);case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("[adjust] error = ",e.t0);case 13:e.next=16;break;case 15:a=this.rawPhotoUrl||n;case 16:return this.image&&this.reset(n),e.abrupt("return",new O.a(function(e,t){var r=new window.Image;r.src=a,r.onload=function(){return e(a)},r.onerror=function(){return t(new Error("Image cannot loaded. src = ".concat(n)))},o.rawPhotoUrl=o.autoAdjustmentEnabled?n:null,o.currentPhotoUrl=a,o.image=r}));case 18:case"end":return e.stop()}},e,this,[[4,10]])}),function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){Bt(o,a,r,i,c,"next",e)}function c(e){Bt(o,a,r,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"reset",value:function(e){e&&e!==this.currentPhotoUrl&&(URL.revokeObjectURL(this.currentPhotoUrl),this.currentPhotoUrl=null,this.rawPhotoUrl=null),this.canvas.call(this.zoom.transform,It.e),this.image=null,this.transform=null}},{key:"resize",value:function(){var e=window.devicePixelRatio,t=window.innerHeight*e,n=window.innerWidth*e;this.canvas.attr("height",t).attr("width",n),this.ctx.scale(e,e),this.mask.attr("height",t).attr("width",n),this.ch=t,this.cw=n,Ht(this.ctx,!0)}},{key:"adjustCropOrientation",value:function(){if(this.autoAdjustmentEnabled){var e=Ut(this.image);this.setCropOrientation(e)}}},{key:"draw",value:function(){if(!this.image)throw new Error("Image not yet loaded.");this.clear();var e=this.transform;e&&e.x&&e.y&&this.ctx.translate(e.x,e.y),e&&e.k&&this.ctx.scale(e.k,e.k),Ft(this.ctx,this.rotation),this.fitAndDrawImage(this.image),this.renderCaptureArea()}}])&&Kt(t.prototype,n),a&&Kt(t,a),e}(),Xt=n(213),Zt=n.n(Xt),Jt=n(214),Qt=n.n(Jt),$t=n(215),en=n.n($t),tn=Object(He.b)(Object(He.h)(function(){return{isMobile:en.a.getParser(window.navigator.userAgent).is("mobile"),sliderWidth:898,sliderAreaWidth:284}}),Object(He.g)(function(e){var t,n=e.isMobile,a=e.maxDegree,r=e.sliderWidth,o=[],i=r/2,c=It.b().domain([-i,i]).range([-a,a]),s=function(e){t.scrollLeft=c.invert(e)+i};return{setSliderRef:function(a){var r=a.onSlide,l=void 0===r?E.a.noop:r;return function(a){if(t=a){var r=E.a.debounce(function(e){var t=E.a.get(e,"target.scrollLeft",null)-i,n=E.a.round(c(t),2);l(n)},1e3/90);t.addEventListener("scroll",r),o.push(function(){t.removeEventListener("scroll",r)}),(e.sliderRef||E.a.noop)({syncScrollLeftByRotation:s}),function(){if(!n){var e=t.querySelector(".p-slider_scale"),a=new Qt.a({viewport:t,emulateScroll:!0,onUpdate:function(e){t.scrollLeft=E.a.get(e,"position.x",0)},content:e});o.push(function(){return a.destroy()})}}()}}},scrollToCenter:function(){return function(){t&&(t.scrollLeft=i)}},unListen:function(){return function(){return E.a.each(o,function(e){return e()})}}}}),Object(He.c)({componentDidMount:function(){this.props.scrollToCenter()},componentWillUnmount:function(){this.props.unListen()}}))(function(e){var t=e.className,n=e.setSliderRef,a=e.sliderAreaWidth,o=e.sliderWidth,i=e.config,c="p-slidecontainer";return t&&(c+=" ".concat(t)),r.a.createElement("div",{className:c},r.a.createElement("p",{className:"p-slider_text"},Ze[i.user.language].ROTATE," ",r.a.createElement("span",{id:"p-slider_text_num"})),r.a.createElement("div",{className:"mt-2 mx-auto p-slider",style:{width:a},ref:n},r.a.createElement("div",{className:"p-slider_scale",style:{width:o+a}},r.a.createElement("img",{src:"".concat(Ye,"/img/slider.png"),alt:"slider",style:{width:o,height:28}}))))});function nn(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}function an(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){nn(o,a,r,i,c,"next",e)}function c(e){nn(o,a,r,i,c,"throw",e)}i(void 0)})}}var rn=Object(He.b)(Object(He.j)("isLoading","setIsLoading",!1),Object(He.j)("isAutoAdjustmentEnabled","setIsAutoAdjustmentEnabled",function(e){return e.config.svcImageTransform||!1}),Object(He.j)("cropOrientation","setCropOrientation",function(e){return e.initialCropOrientation||"horizontal"}),Object(He.j)("photoUrl","setPhotoUrl",function(e){return e.initialPhotoUrl}),Object(He.g)(function(e){var t,n,a,r,o,i=e.editorRef,c=void 0===i?E.a.noop:i,s=e.setPhotoUrl,l=e.setIsLoading,u=e.setCropOrientation,m=e.isAutoAdjustmentEnabled,d=e.config,p=e.cropOrientation,f=[],h=function(){var e=an(Fe.a.mark(function e(t){var r;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o||(o=new Vt(n,a,{enableShadeFilter:d.svcShadeFilter,isAutoAdjustmentEnabled:m,cropOrientation:p}),f.push(function(){o.reset()}),c(o)),e.next=3,o.loadImage(t);case 3:r=e.sent,s(r),g(),o.adjustCropOrientation(),u(o.cropOrientation),o.draw();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=an(Fe.a.mark(function e(t){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,Zt()(h(t),300);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:l(!1);case 10:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),g=function(){o.setRotation(0),r.syncScrollLeftByRotation(0)};return{setResizeHandler:function(){return function(){var e=E.a.debounce(function(){o&&(o.resize(),o.draw())},1e3/60);window.addEventListener("resize",e),f.push(function(){window.removeEventListener("resize",e)})}},unListen:function(){return function(){E.a.each(f,function(e){return e()})}},setInputRef:function(){return function(e){e&&(t=e)}},setSliderRef:function(){return function(e){e&&(r=e)}},setCanvasRef:function(){return function(e){e&&(n=e)}},setMaskRef:function(){return function(e){e&&(a=e)}},toggleCropOrientation:function(e){var t=e.cropOrientation,n=e.setCropOrientation;return function(){var e="horizontal";"horizontal"===t&&(e="vertical"),n(e),o.setCropOrientation(e),o.draw()}},openCamera:function(){return function(){t.click()}},onSelectPhoto:function(e){var t=e.onChange,n=void 0===t?E.a.noop:t;e.setPhotoUrl;return function(){var e=an(Fe.a.mark(function e(t){var a;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E.a.first(t.target.files)){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",v(a).then(function(){n(o.currentPhotoUrl)}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},getEditor:function(){return function(){return o}},rotate:function(){return function(e){o&&window.requestAnimationFrame(function(){o.rotate(e)})}},setEditorAutoAdjustment:function(e){var t=e.setIsAutoAdjustmentEnabled;return function(e){return g(),o.setAutoAdjustment(e),t(e),v(o.currentPhotoUrl)}},zoomOut:function(){return function(){o&&window.requestAnimationFrame(function(){o.zoomOut()})}},zoomIn:function(){return function(){o&&window.requestAnimationFrame(function(){o.zoomIn()})}},loadImage:function(){return h},rotateI:function(){return function(e){o&&window.requestAnimationFrame(function(){var t=o.rotation+e;t>=405&&(t=405),o.rotate(t),r.syncScrollLeftByRotation(t)})}},toDataUrl:function(){return function(){return o.cropAndSerializeCanvasAsDataURL()}}}}),Object(He.c)({componentDidMount:function(){var e=an(Fe.a.mark(function e(){var t,n,a,r;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.loadImage,a=t.setResizeHandler,!(r=t.initial)){e.next=4;break}return e.next=4,n(r);case 4:a();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),componentWillUnmount:function(){this.props.unListen()}}))(function(e){var t=e.onSave,n=void 0===t?E.a.noop:t,a=e.allowToggleCropOrientation,o=void 0!==a&&a,i=e.onSelectPhoto,c=e.setInputRef,s=e.setSliderRef,l=e.toDataUrl,u=e.setCanvasRef,m=e.setMaskRef,d=e.isAutoAdjustmentEnabled,p=e.cropOrientation,f=e.toggleCropOrientation,h=e.rotate,v=e.rotateI,g=e.setEditorAutoAdjustment,b=e.isLoading,O=e.zoomIn,y=e.zoomOut,_=e.openCamera,S=e.photoUrl,N=e.config,w=!S,T="p-capturetools";return w&&(T+=" is-disabled"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-capture_canvas_bg"},b&&r.a.createElement(mt,{className:"z-10"}),!b&&!S&&r.a.createElement("button",{onClick:_,className:"p-4 rounded border border-white p-capture_button"},r.a.createElement("span",null,Ze[N.user.language].SHOOT),r.a.createElement(Be,{name:"camera",style:{color:"white"}})),r.a.createElement("input",{className:"hidden",ref:c,type:"file",accept:"image/*",capture:"camera",onChange:i}),r.a.createElement("canvas",{ref:u,className:"p-capture_canvas"}),r.a.createElement("canvas",{ref:m,className:"p-capture_mask"})),!w&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"p-middle-button p-middle-button-left",onClick:y},r.a.createElement(Be,{name:"zoom-out",style:{color:"white"}})),r.a.createElement("button",{className:"p-middle-button p-middle-button-right",onClick:O},r.a.createElement(Be,{name:"zoom-in",style:{color:"white"}})),o&&r.a.createElement("button",{className:"mr-4 p-toggle-orientation is-".concat(p),onClick:function(){return f()}},Ze[N.user.language].SWITCH)),r.a.createElement("div",{className:"l-buttons l-buttons--editor"},r.a.createElement(tn,{sliderRef:s,className:w?"is-disabled":"",maxDegree:405,config:N,onSlide:function(e){return h(e)}}),r.a.createElement("ul",{className:T},r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),_()}},r.a.createElement("div",{className:"p-thumb"},r.a.createElement(Be,{name:"camera",style:{color:"white"}})),r.a.createElement("span",null,Ze[N.user.language].RESHOOT))),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),v(90)}},r.a.createElement("div",{className:"p-thumb"},r.a.createElement(Be,{name:"rotate",style:{color:"white"}})),r.a.createElement("span",null,Ze[N.user.language].ROTATE_90))),r.a.createElement("li",null,r.a.createElement("div",{className:"p-correct"},r.a.createElement("div",{className:"p-correct_input"},r.a.createElement("input",{className:"c-input--checkbox",id:"auto_0",type:"checkbox",name:"auto_0",onChange:function(e){g(e.target.checked)},checked:d})),r.a.createElement("label",{htmlFor:"auto_0"},Ze[N.user.language].AUTO_CORRECTION))),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),n({photoUrl:S,dataURL:l()},p)}},r.a.createElement("div",{className:"p-thumb"},r.a.createElement(Be,{name:"arrow-right",style:{color:"white"}})),r.a.createElement("span",null,Ze[N.user.language].NEXT))))))}),on=n(216),cn=n.n(on),sn={requestConfig:L,removePhoto:he,setPhoto:Ee},ln=Object(o.b)(function(e,t){var n=t.match,a=t.location,r=Oe(e),o=cn.a.parse(E.a.last(a.search.split("?"))),i=Number(E.a.get(n,"params.index",0)),c=E.a.get(n,"params.side","front"),s=o.ct||"single",l=r[i]||null,u=E.a.get(r,[i,"front"],null),m=E.a.get(r,[i,"back"],null);return m&&"single"===s&&(s="both"),{config:pt(x(e)),isConfigProgress:U(e),index:i,side:c,captureType:s,photo:l,frontPhoto:u,backPhoto:m}},sn),un=Object(He.b)(Tt.a,ln,Object(He.h)(function(e){var t=e.isConfigProgress,n=e.side,a=e.frontPhoto,r=e.backPhoto;return{loading:t,initial:E.a.get("front"===n?a:r,"photoUrl",null)}}),Object(He.j)("shouldPreventNavigation","setShouldPreventNavigation",!1),Object(He.c)({componentDidMount:function(){this.props.requestConfig()},componentDidUpdate:function(){this.props.shouldPreventNavigation?window.onbeforeunload=function(){return!0}:window.onbeforeunload=void 0},componentWillUnmount:function(){window.onbeforeunload=void 0}}),dt)(function(e){var t=e.setShouldPreventNavigation,n=e.setPhoto,a=e.removePhoto,o=e.photo,i=e.frontPhoto,c=e.backPhoto,s=e.history,l=e.index,u=e.initial,d=e.side,p=e.captureType,f=e.config,h={},v={},g=E.a.get(o,"orientation","horizontal");if(i&&(h.backgroundImage='url("'.concat(i.dataURL,'")')),c&&(v.backgroundImage='url("'.concat(c.dataURL,'")')),!E.a.includes(["front","back"],d))return r.a.createElement(m.a,{to:"/capture/list"});if("back"===d&&!i){var b=s.location,O=b.pathname,y=b.search;return r.a.createElement(m.a,{to:O.replace("back","front")+y})}var _=Boolean(i),S="both"===p&&!c,N="front"===d;return r.a.createElement("div",{className:"l-contents l-contents-full page-edit-photo"},r.a.createElement(rn,{key:"".concat(l,"-").concat(d),initialCropOrientation:E.a.get(o,"orientation","horizontal"),allowToggleCropOrientation:N,config:f,initial:u,onChange:function(){t(!0)},onSave:function(e,a){t(!1),n(e,l,d,p,a,{repeatExchangeDate:f.svcRepeatExchangeDate,repeatMemo:f.svcRepeatMemo},!0);var r="/capture/list";S&&"front"===d?r="/capture/edit-photo/".concat(l,"/back?ct=").concat(p):"both"!==p||i||(r="/capture/edit-photo/".concat(l,"/front?ct=").concat(p)),window.requestAnimationFrame(function(){s.push(r)})}}),r.a.createElement("div",{className:"l-contents_main"},r.a.createElement("div",{className:"l-contents_head"},r.a.createElement("div",{className:"l-contents_headinner"},r.a.createElement("div",{className:"l-contents_title"},l+1,Ze[f.user.language].CARD_COUNT_POSTFIX,"\uff1a","front"===d?Ze[f.user.language].ADJUST_FRONT_SIDE:Ze[f.user.language].ADJUST_BACK_SIDE),r.a.createElement(jt.a,{to:"/capture".concat(window.rn()),className:"l-right c-icon c-icon_close",onClick:function(){_&&S&&a(l)}},r.a.createElement(Be,{name:"close",style:{color:"white"}})))),r.a.createElement("div",{className:"l-contents_body"},r.a.createElement("div",{className:"p-import-cards is-".concat(g)},r.a.createElement("div",{className:"p-import-card p-import-card_front is_active"},r.a.createElement("div",{className:"p-import-card_canvas",style:h})),r.a.createElement("div",{className:"p-import-card p-import-card_back"},"both"===p||c?r.a.createElement("div",{className:"p-import-card_canvas",style:v}):r.a.createElement("div",{className:"p-import-card_canvas p-import-card_canvas_disable"}))))))}),mn=n(42),dn=Object(He.b)(Object(He.g)(function(){var e=function(){var e=document.createElement("div");return e.className="modal-root",e}();return{mountEl:function(){return function(){window.document.body.appendChild(e)}},unmountEl:function(){return function(){window.document.body.removeChild(e)}},getEl:function(){return function(){return e}}}}),Object(He.c)({componentDidMount:function(){this.props.mountEl()},componentWillUnmount:function(){this.props.unmountEl()}}))(function(e){var t=e.onClose,n=void 0===t?E.a.noop:t,a=e.open,o=void 0!==a&&a,i=e.backdropClassName,s=void 0===i?"":i,l=e.children,u="c-modal_backdrop";s&&(u+=" ".concat(s)),window.document.getElementsByTagName("html")[0].style.overflow=o?"hidden":"auto",e.getEl().style.top=window.document.documentElement.scrollTop+"px",e.getEl().style.visibility="hidden",setTimeout(function(){document.getElementsByClassName("c-modal")&&(document.getElementsByClassName("c-modal")[0].style.marginTop=(window.document.documentElement.clientHeight-document.getElementsByClassName("c-modal")[0].clientHeight)/2+"px",document.getElementsByClassName("c-modal")[0].style.marginLeft=(window.document.documentElement.clientWidth-document.getElementsByClassName("c-modal")[0].clientWidth)/2+"px",e.getEl().style.visibility="visible")},10);var m=r.a.createElement(mn.CSSTransition,{in:o,classNames:"modal-fade-in",timeout:500,unmountOnExit:!0},r.a.createElement("div",{className:"c-modal"},r.a.createElement("div",{className:u,onClick:function(){return n()}}),r.a.createElement("div",{className:"c-modal_content"},l)));return e.getEl()?c.a.createPortal(m,e.getEl()):m}),pn=n(217),fn=n.n(pn);function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(n,!0).forEach(function(t){vn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}function bn(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){gn(o,a,r,i,c,"next",e)}function c(e){gn(o,a,r,i,c,"throw",e)}i(void 0)})}}var On=window.NcService,yn=window.svcSendOptions,_n=function(e){var t=e.split(",")[0].split(":")[1].split(";")[0],n=function(e){for(var t=window.atob(e.split(",")[1]),n=new ArrayBuffer(t.length),a=new Uint8Array(n),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return n}(e),a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;return a?((a=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder)).append(n),a.getBlob(t)):a=new window.Blob([n],{type:t})},Sn=function(){var e=bn(Fe.a.mark(function e(t){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new O.a(function(e,n){var a=new window.Image;a.onload=function(){return e(a)},a.onerror=function(){return n(new Error("Image cannot loaded from dataURL."))},a.src=t}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Nn=function(){var e=bn(Fe.a.mark(function e(t){var n,a,r,o;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(t);case 2:return n=e.sent,a=document.createElement("canvas"),600,r=600*n.naturalHeight/n.naturalWidth,a.width=600,a.height=r,a.getContext("2d").drawImage(n,0,0,a.width,a.height),(o={width:600,height:a.height,data:a.toDataURL("image/jpeg",1),name:"".concat(fn()(),".jpg"),type:"image/jpeg"}).blob=_n(o.data),e.abrupt("return",o);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),wn=function(){var e=bn(Fe.a.mark(function e(t,n){var a;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=hn({},t),e.next=3,On.sendScanLotData(a,n);case 3:return e.abrupt("return",E.a.pick(a,["regoSessionId","send_id"]));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Tn=function(){var e=bn(Fe.a.mark(function e(t,n,a){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On.sendCardData(t,a,n);case 2:return e.abrupt("return",E.a.pick(a,["card_id","result"]));case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),jn=function(){var e=bn(Fe.a.mark(function e(t,n,a){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On.sendBackCardData(t,a,n);case 2:return e.abrupt("return",E.a.pick(a,["card_id","result"]));case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),In=function(){var e=bn(Fe.a.mark(function e(t,n){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",On.sendEnd(t,n));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Dn=function(){var e=bn(Fe.a.mark(function e(t,n){var a,r,o,i,c,s,l,u,m,d,p,f,h,v,g,b,y,_,S,N,w,T=arguments;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=T.length>2&&void 0!==T[2]?T[2]:"",r=T.length>3&&void 0!==T[3]?T[3]:{},o=r.svcFreehandMemo,i=void 0!==o&&o,c=r.svcFrontOnly,s=void 0!==c&&c,l=r.sSmartViscaServer,u=r.sScannerName,m=r.sSmartViscaServeServiceID,d=r.sSmartViscaServerOptions,p=r.sUserId,f=r.sSessionId,h=r.sOrgId,v=r.userName,g={card_count:n.length,description:"",error_code:"",finish_code:-1,freehandmemo_flag:i?1:0,list_name:t,ownerId:a||yn.sUserId,regoSessionId:"",result_count:0,send_id:"",svcFrontOnly:s},b=hn({},yn,{sSmartViscaServer:l||yn.sSmartViscaServer,sScannerName:u||yn.sScannerName,sSmartViscaServeServiceID:m||yn.sSmartViscaServeServiceID,sSmartViscaServerOptions:d||yn.sSmartViscaServerOptions,sUserId:p||yn.sUserId,sSessionId:f||yn.sSessionId,sOrgId:h||yn.sOrgId,userName:v||yn.userName}),(y={start:{},logs:[],end:{}}).start.start=1,y.start.date=le().format("YYYY-MM-DD HH:mm:ss"),Nt(y),e.next=11,wn(g,b);case 11:return _=e.sent,y.start.ok=1,Nt(y),S=hn({},g,{},_),e.next=17,O.a.map(n,function(){var e=bn(Fe.a.mark(function e(t,n){var a,r,o,i,c,s,l;return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(t.front.dataURL);case 2:if(a=e.sent,r=null,!t.back||t.back.skip){e.next=8;break}return e.next=7,Nn(t.back.dataURL);case 7:r=e.sent;case 8:return o=le(),t.exchangeDate&&(o=le(t.exchangeDate,"YYYY-MM-DD")),i={index:n,front:a,back:r,memo:t.memo||"",date:t.exchangeDate?o.format("YYYY/MM/DD"):"",card_id:"",result:0},c={front:{},back:{}},y.logs.push(c),c.front.start=1,Nt(y),e.next=17,Tn(S,b,i);case 17:return s=e.sent,c.front.ok=1,Nt(y),i.card_id=s.card_id,i.result=s.result,c.back.start=1,Nt(y),e.next=26,jn(S,b,i);case 26:return l=e.sent,i.card_id=l.card_id,i.result=l.result,c.back.ok=1,Nt(y),e.abrupt("return",i);case 32:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),{concurrency:1});case 17:return N=e.sent,y.end.start=1,Nt(y),e.next=22,In(S,b);case 22:return w=e.sent,y.end.ok=1,Nt(y),e.abrupt("return",hn({},w,{card_ids:E.a.map(N,"card_id")}));case 26:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),kn={setOptions:function(e){return function(t){t({type:"SET_OPTIONS",payload:e})}},requestConfig:L,requestUpdateConfig:C,requestList:function(){return function(e){if(!K)return e({type:"REQUEST_LIST"}),w.sfdc.getListNames().then(function(t){var n=q(t,1)[0],a=void 0===n?{}:n;return K=!0,e({type:"SET_LIST",payload:{result:a}}),a})}},requestUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return n({type:"REQUEST_USERS"}),w.sfdc.getDepartmentUsers(e,t).then(function(e){var t=Se(e,1)[0],a=void 0===t?{}:t;return n(Ne({result:a})),a})}},rememberListName:function(e){return function(t,n){t({type:"REMEMBER_LIST_NAME",payload:{listName:e}});var a=$(n());B.set("com.sunbridge.last_list_name",a)}},rememberInputListName:function(e){return function(t,n){t({type:"REMEMBER_INPUT_LIST_NAME",payload:{listName:e}});var a=ee(n());B.set("com.sunbridge.last_input_list_name",a)}},rememberHistory:function(e){return function(t,n){t({type:"REMEMBER_HISTORY",payload:{photos:e}});var a=_e(n());B.set("com.sunbridge.photo_histories",a)}},resetPhoto:function(){return{type:"RESET_PHOTO",payload:{}}},setError:h},Pn=Object(o.b)(function(e){return{maxNumOfPhotos:20,config:pt(x(e)),photos:Oe(e),list:E.a.map(J(e),ft),options:ie(e),users:je(e),departments:Ie(e),isUnderLimit:ke(e),hasMaxPhotosLimitExceeded:ye(e),lastListName:$(e),lastInputListName:ee(e),isUsersProgress:De(e),isConfigProgress:U(e),isListProgress:Q(e)}},kn);function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(n,!0).forEach(function(t){An(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(a,r)}function Un(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){xn(o,a,r,i,c,"next",e)}function c(e){xn(o,a,r,i,c,"throw",e)}i(void 0)})}}var Mn=null,Fn=Object(He.b)(Tt.a,Pn,Object(He.h)(function(e){var t=e.isConfigProgress,n=e.isListProgress;return{loading:t||n}}),Object(He.j)("captureType","setCaptureType","both"),Object(He.j)("isShowSelectOwnerModal","setIsShowSelectOwnerModal",!1),Object(He.j)("isSubmitProgress","setIsSubmitProgress",!1),Object(He.c)({componentDidMount:function(){var e=Un(Fe.a.mark(function e(){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.requestConfig();case 2:this.props.requestList(),this.props.requestUsers(),this.props.setCaptureType(this.props.config.svcDoubleSide?"both":"single"),this.props.photos.length>0&&(window.onbeforeunload=function(){return!0});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),componentDidUpdate:function(){var e=Un(Fe.a.mark(function e(){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.requestConfig();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),componentWillUnmount:function(){window.onbeforeunload=void 0}}),dt),Gn=function(e){var t=Rn({},e);return t.listNameInput&&(t.listName=t.listNameInput),delete t.listNameInput,t},Hn="",zn=Object(He.b)(Object(He.c)({componentDidMount:function(){Mn=this.props.isUnderLimit,this.props.isUnderLimit||this.props.requestUsers()}}))(function(e){var t=e.onSelect,n=void 0===t?E.a.noop:t,a=e.value,o=void 0===a?"":a,i=e.config,c=e.departments,s=e.users,l=e.requestUsers,u=e.isUsersProgress,m=e.isUnderLimit,d=e.setOptions,p=e.setIsShowSelectOwnerModal;if(E.a.isEmpty(c))return r.a.createElement(mt,null);var f={department:E.a.first(c),filter:"",ownerId:o},h={name:"department",label:Ze[i.user.language].OWNER_DEPARTMENT,type:"select",options:E.a.map(c,function(e){return{label:e,value:e}})},v={name:"filter",label:Ze[i.user.language].OWNER_FILTER,type:"text",placeholder:Ze[i.user.language].OWNER_PLACEHOLDER},g=E.a.debounce(function(){var e=Un(Fe.a.mark(function e(t){return Fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mn){e.next=2;break}return e.abrupt("return");case 2:if(t.filter&&Hn!==t.filter){e.next=4;break}return e.abrupt("return");case 4:return Hn=t.filter,e.abrupt("return",l(t.department,t.filter));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),600);return r.a.createElement(ze.a,{initial:f,onChange:g},function(e){if(u)return r.a.createElement(mt,null);var t=e.values,a="\u5168\u3066"===t.department||"All"===t.department?s:E.a.filter(s,function(e){return e.department===t.department});return m&&t.filter&&(a=function(e,t){var n=new RegExp(t,"i");return E.a.filter(e,function(e){return n.test(e.name)||n.test(e.email)||n.test(e.userName)||n.test(e.department)})}(s,t.filter)),r.a.createElement("div",{className:"p-select-owner-modal"},r.a.createElement(ut,Ln({key:h.name,config:i,field:h,disabled:h.disabled},e.field(h.name))),r.a.createElement(ut,Ln({key:v.name,config:i,field:v,disabled:v.disabled},e.field(v.name))),r.a.createElement(ze.b,{initial:f.ownerId,onChange:function(t){return e.setValues({ownerId:t})}},function(e){var t=e.set,n=e.value;return r.a.createElement("ul",{className:"list-reset c-select-box"},r.a.createElement("li",{className:n?"":"is-selected",onClick:function(){return t("")}},Ze[i.user.language].OWNER_NO_SELECTION),E.a.map(a,function(e){return r.a.createElement("li",{className:n===e.id?"is-selected":"",key:e.id,onClick:function(){return t(e.id)}},e.label)}))}),r.a.createElement("div",{className:"p-select-owner-modal_footer"},r.a.createElement("button",{onClick:function(){return p(!1)}},Ze[i.user.language].OWNER_CLOSE),r.a.createElement("button",{className:"is-primary",onClick:function(){n(e.values.ownerId),d({ownerId:e.values.ownerId}),p(!1)}},Ze[i.user.language].OWNER_SELECT)))})}),Yn=Fn(function(e){var t=e.config,n=e.options,a=e.setOptions,o=e.photos,i=e.lastListName,c=e.lastInputListName,s=e.captureType,l=e.setCaptureType,u=e.rememberHistory,m=e.rememberListName,d=e.requestConfig,p=e.requestUpdateConfig,f=e.rememberInputListName,h=e.resetPhoto,v=e.setError,g=e.history,b=e.maxNumOfPhotos,O=e.hasMaxPhotosLimitExceeded,y=e.isShowSelectOwnerModal,_=e.setIsShowSelectOwnerModal,S=e.isSubmitProgress,N=e.setIsSubmitProgress,w=e.list,T=t.sCameraEnableOwnerSelect,j=E.a.compact([{name:"svcFreehandMemo",label:Ze[t.user.language].OPTION_DIGITAIZE_HANDWRITTEN_NOTES,type:"checkbox",onChange:function(e){a(Rn({},n,{svcFreehandMemo:e.target.checked}))}},{name:"svcFrontOnly",label:Ze[t.user.language].OPTION_DIGITAIZE_FRONT_SIDE_ONLY,type:"checkbox",onChange:function(e){a(Rn({},n,{svcFrontOnly:e.target.checked}))}}]),I=Rn({},t,{listName:i||(t.svcKeepListName?t.svcLastListName:""),listNameInput:c||"",svcFrontOnly:null===e.options.svcFrontOnly?t.svcFrontOnly:e.options.svcFrontOnly,svcFreehandMemo:null===e.options.svcFreehandMemo?t.svcFreehandMemo:e.options.svcFreehandMemo,ownerId:e.options.ownerId||E.a.get(yn,"sUserId","")}),D=o.length;return r.a.createElement(ze.a,{initial:I},function(a){var i=a.values,c=T&&{name:"ownerId",label:Ze[t.user.language].OWNER,type:"select",options:E.a.map(e.users,function(e){return{label:e.label,value:e.id}}),value:i.ownerId},I=function(){var r=Un(Fe.a.mark(function r(){var i,c;return Fe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return N(!0),r.prev=1,i=Gn(a.values),c=i.ownerId,r.next=6,Dn(i.listName,o,c,{svcFreehandMemo:i.svcFreehandMemo,svcFrontOnly:i.svcFrontOnly,sSmartViscaServer:t.sSmartViscaServer,sScannerName:t.sScannerName,sSmartViscaServeServiceID:t.sSmartViscaServeServiceID,sSmartViscaServerOptions:t.sSmartViscaServerOptions,sUserId:t.user.id,sSessionId:t.user.sessionId,sOrgId:t.user.orgId,userName:t.user.username});case 6:return r.sent,t.svcLastListName=a.values.listNameInput||i.listName,r.next=10,p(t);case 10:return r.next=12,d(!0);case 12:m(""),f(""),u(o),h(),e.setOptions(Rn({},n,{svcFreehandMemo:null,svcFrontOnly:null})),window.scrollTo(0,0),window.requestAnimationFrame(function(){return g.push("/capture/complete"+window.rn())}),r.next=24;break;case 21:r.prev=21,r.t0=r.catch(1),v({message:r.t0.description});case 24:N(!1);case 25:case"end":return r.stop()}},r,null,[[1,21]])}));return function(){return r.apply(this,arguments)}}(),k=a.values,P=k.listName,L=k.listNameInput;L===t.svcLastListName?(m(L),f("")):(m(P),f(L)),t.svcLastListName&&w.push(t.svcLastListName),w=E.a.uniq(w);var C={name:"listName",label:Ze[t.user.language].LIST_NAME,type:"select",options:E.a.map(w,function(e){return{label:e,value:e}}),disabled:""!==L,allowNull:!0},R="en_US"===t.user.language?"-en":"",A={name:"listNameInput",label:Ze[t.user.language].NEW_LIST_NAME,type:"text"};return r.a.createElement("div",{className:"l-contents"},r.a.createElement("div",{className:"l-contents_main"},r.a.createElement("div",{className:"l-contents_head l-contents_head-small"},r.a.createElement("div",{className:"l-contents_headinner"},r.a.createElement("div",{className:"l-contents_title"},o.length>0?"".concat(Ze[t.user.language].LIST_TITLE_KEEP," ").concat(o.length).concat(Ze[t.user.language].LIST_TITLE_KEEP_POSTFIX):"".concat(Ze[t.user.language].LIST_TITLE)),r.a.createElement(jt.a,{to:"/capture/setting".concat(window.rn()),className:"l-left c-icon c-icon_settiing"},r.a.createElement(Be,{name:"setting",style:{color:"white"}})),r.a.createElement(jt.a,{to:"/capture/history".concat(window.rn()),className:"l-left_1 c-icon c-icon_history"},r.a.createElement(Be,{name:"defer",style:{color:"white"}})),!t.sDisableCameraLauncher&&r.a.createElement("a",{className:"l-right c-icon c-icon_close",onClick:function(e){window.sforce?window.sforce.one.navigateToURL("/apex/".concat(window.namespace_x).concat(t.smartviscaMobilePage).concat(window.rn())):window.location.href="/apex/".concat(window.namespace_x).concat(t.smartviscaMobilePage).concat(window.rn())}},r.a.createElement(Be,{name:"close",style:{color:"white"}})))),r.a.createElement("div",{className:"l-contents_body ".concat("l-has_footer-buttons")},O?r.a.createElement("p",{className:"mt-6 text-center text-grey-dark"},Ze[t.user.language].SEND_LIMIT," - ",b,Ze[t.user.language].LIST_TITLE_KEEP_POSTFIX):r.a.createElement("div",{className:"p-taptocapture"},r.a.createElement("p",null,Ze[t.user.language].LIST_LABEL),r.a.createElement("ul",{className:"c-tab c-tab-b",id:"tab"},r.a.createElement("li",{className:"both"===s?"is_current":""},r.a.createElement("a",{href:"#both",onClick:function(e){e.preventDefault(),l("both")}},r.a.createElement("div",{className:"c-tab_line"},Ze[t.user.language].MODE_BOTH_SIDE))),r.a.createElement("li",{className:"single"===s?"is_current":""},r.a.createElement("a",{href:"#single",onClick:function(e){e.preventDefault(),l("single")}},r.a.createElement("div",{className:"c-tab_line"},Ze[t.user.language].MODE_FRONT_SIDE)))),r.a.createElement("div",{className:"p-btn_capture"},r.a.createElement(jt.a,{to:"/capture/edit-photo/".concat(D,"/front?ct=").concat(s).concat(window.rn("&")),href:"/capture/edit-photo",onClick:function(){window.scrollTo(0,0)}},r.a.createElement(Be,{name:("single"===s?"capture-single":"capture-both")+R})))),r.a.createElement("div",{className:"p-imports"},E.a.map(o,function(e,n){var a={},o={};return e?(e.front&&(a.backgroundImage='url("'.concat(e.front.dataURL,'")')),e.back&&(o.backgroundImage='url("'.concat(e.back.dataURL,'")')),r.a.createElement("div",{key:n,className:"p-import"},r.a.createElement("div",{className:"p-import_head"},r.a.createElement(jt.a,{to:"/capture/edit/".concat(n).concat(window.rn()),className:"p-import_edit c-icon c-icon_edit-b",onClick:function(){window.scrollTo(0,0)}},r.a.createElement(Be,{name:"edit",style:{color:"#0070d2"}})),r.a.createElement("div",{className:"p-import_num"},n+1),e.exchangeDate&&r.a.createElement("div",{className:"p-import_date"},r.a.createElement("span",null,Ze[t.user.language].LIST_EXCHANGE_DAY," "),e.exchangeDate),e.memo&&r.a.createElement("div",{className:"p-import_memo"},e.memo)),r.a.createElement("div",{className:"p-import_body"},r.a.createElement("div",{className:"p-import-cards is-".concat(e.orientation)},r.a.createElement("div",{className:"p-import-card p-import-card_front is_active"},r.a.createElement("div",{className:"p-import-card_canvas",style:a})),r.a.createElement("div",{className:"p-import-card p-import-card_back"},e.back&&e.back.skip?r.a.createElement("div",{className:"p-import-card_canvas p-import-card_canvas_disable"}):r.a.createElement("div",{className:"p-import-card_canvas",style:o})))))):null})),r.a.createElement("div",{className:"l-editpage"},r.a.createElement("p",{className:"p-capturesetting"},Ze[t.user.language].OPTION),E.a.map(j,function(e){return r.a.createElement(ut,Ln({key:e.name,config:t,field:e,disabled:e.disabled},a.field(e.name)))}),T&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,Ln({key:c.name,config:t,field:c,onClick:function(){return _(!0)}},a.field(c.name))),r.a.createElement(dn,{open:y,onClose:function(){return _(!1)}},r.a.createElement(zn,Ln({},e,{value:i.ownerId,onSelect:function(e){return a.setValues({ownerId:e})}})))),r.a.createElement("div",{className:"mt-6"}),r.a.createElement(ut,Ln({key:C.name,config:t,field:C,disabled:C.disabled},a.field(C.name))),r.a.createElement("div",{className:"c-field-separator"}),r.a.createElement(ut,Ln({key:A.name,config:t,field:A,disabled:A.disabled},a.field(A.name))))),r.a.createElement("div",{className:"l-buttons l-buttons--list"},r.a.createElement("div",{className:"l-main-button"},r.a.createElement("a",{className:"c-button ".concat(S?"is-disabled":""),onClick:I},S?r.a.createElement("span",{className:"c-button_progress"},r.a.createElement("span",{className:"mr-2"},Ze[t.user.language].PROCESSING),r.a.createElement(mt,null)):r.a.createElement("span",null,Ze[t.user.language].SAVE))))))})}),Bn={requestConfig:L},Wn=Object(o.b)(function(e){return{config:pt(x(e))}},Bn),qn=Object(He.b)(Wn,Object(He.c)({componentDidMount:function(){this.props.requestConfig()}}))(function(e){var t=e.config;return r.a.createElement("div",{className:"l-contents"},r.a.createElement("div",{className:"l-contents_main"},r.a.createElement("div",{className:"l-contents_head l-contents_head-small"},r.a.createElement("div",{className:"l-contents_headinner"},r.a.createElement("div",{className:"l-contents_title"},Ze[t.user.language].SEND_COMPLETE),r.a.createElement(jt.a,{to:"/capture/setting".concat(window.rn()),className:"l-left c-icon c-icon_settiing"},r.a.createElement(Be,{name:"setting",style:{color:"white"}})),r.a.createElement(jt.a,{to:"/capture/history".concat(window.rn()),className:"l-left_1 c-icon c-icon_history"},r.a.createElement(Be,{name:"defer",style:{color:"white"}})),r.a.createElement(jt.a,{to:"/capture".concat(window.rn()),className:"l-right c-icon c-icon_close"},r.a.createElement(Be,{name:"close",style:{color:"white"}})))),r.a.createElement("div",{className:"l-contents_body l-has_footer-buttons"},r.a.createElement("div",{className:"p-complete"},r.a.createElement("div",{className:"p-complete_body"},r.a.createElement(Be,{name:"check",style:{color:"#0070d2"}}),r.a.createElement("p",null,Ze[t.user.language].SEND_COMPLETE_TITLE)))),r.a.createElement("div",{className:"l-buttons l-buttons--complete"},r.a.createElement("div",{className:"l-main-button"},r.a.createElement(jt.a,{to:"/capture".concat(window.rn()),className:"c-button",href:"/capture"},Ze[t.user.language].CONTINUE_SHOOT)))))}),Kn={setPhoto:Ee,removePhoto:he},Vn=Object(o.b)(function(e,t){var n=t.match,a=Oe(e),r=Number(E.a.get(n,"params.index",0)),o=a[r],i=E.a.get(o,"front",null),c=E.a.get(o,"back",null);return{config:pt(x(e)),index:r,photo:o,frontPhoto:i,backPhoto:c}},Kn);function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Zn=Object(He.b)(Tt.a,Vn),Jn=Zn(function(e){var t=e.config,n=e.index,a=e.photo,o=e.frontPhoto,i=e.backPhoto,c=e.setPhoto,s=e.removePhoto,l={exchangeDate:E.a.get(a,"exchangeDate",""),memo:E.a.get(a,"memo","")},u=[{name:"exchangeDate",label:Ze[t.user.language].EXCHANGE_DAY,required:!1,type:"date"},{name:"memo",label:Ze[t.user.language].NOTE,type:"textarea",placeholder:Ze[t.user.language].NOTE_PLACEHOLDER}],m=function(e){var t=xt.height,n=xt.width;if("vertical"===E.a.get(e,"orientation")){var a=[t,n];n=a[0],t=a[1]}return{height:t,width:n}};return 0,r.a.createElement(ze.a,{initial:l},function(e){return r.a.createElement("div",{className:"l-contents"},r.a.createElement("div",{className:"l-contents_main"},r.a.createElement("div",{className:"l-contents_head"},r.a.createElement("div",{className:"l-contents_headinner"},r.a.createElement("div",{className:"l-contents_title u-c_k50"},Ze[t.user.language].LIST_TITLE_KEEP," - ",n+1,Ze[t.user.language].LIST_TITLE_KEEP_POSTFIX),r.a.createElement(jt.a,{to:"/capture".concat(window.rn()),className:"l-right c-icon c-icon_close c-icon_close-b",href:"/capture"},r.a.createElement(Be,{name:"close",style:{color:"#0070d2"}})))),r.a.createElement("div",{className:"l-contents_body l-has_footer-2buttons"},o&&r.a.createElement("div",{className:"p-card-edit"},r.a.createElement("div",{className:"p-card-edit_head"},r.a.createElement("p",null,Ze[t.user.language].FRONT_SIDE),r.a.createElement(jt.a,{className:"p-card-edit_edit",to:"/capture/edit-photo/".concat(n,"/front").concat(window.rn())},Ze[t.user.language].READJUST)),r.a.createElement("div",{className:"p-card-edit_body"},r.a.createElement("img",{className:"p-item_thumb mx-auto block",src:o.dataURL,style:m(a),alt:"front nameCard photo"}))),i&&!i.skip&&r.a.createElement("div",{className:"p-card-edit"},r.a.createElement("div",{className:"p-card-edit_head"},r.a.createElement("p",null,Ze[t.user.language].BACK_SIDE),r.a.createElement(jt.a,{className:"p-card-edit_edit",to:"/capture/edit-photo/".concat(n,"/back")},Ze[t.user.language].READJUST)),r.a.createElement("div",{className:"p-card-edit_body"},r.a.createElement("img",{className:"p-item_thumb mx-auto block",src:i.dataURL,style:m(a),alt:"back nameCard photo"}))),r.a.createElement("form",null,r.a.createElement("div",{className:"l-editpage"},E.a.map(u,function(n){return r.a.createElement(ut,Xn({key:n.name,config:t,field:n,formProps:e},e.field(n.name)))})))),r.a.createElement("div",{className:"l-buttons"},r.a.createElement("div",{className:"l-main-button"},r.a.createElement(jt.a,{className:"c-button",to:"/capture/",onClick:function(){c(e.values,n)}},Ze[t.user.language].EDIT_SAVE),r.a.createElement(jt.a,{className:"c-button c-button_delete",to:"/capture/",onClick:function(){return s(n)}},Ze[t.user.language].EDIT_DELETE)))))})}),Qn={requestConfig:L},$n=Object(o.b)(function(e){return{config:pt(x(e)),histories:_e(e)}},Qn),ea=Object(He.b)($n,Object(He.c)({componentDidMount:function(){this.props.requestConfig()}}))(function(e){var t=e.histories,n=e.config;return r.a.createElement("div",{className:"l-contents"},r.a.createElement("div",{className:"l-contents_main"},r.a.createElement("div",{className:"l-contents_head"},r.a.createElement("div",{className:"l-contents_headinner"},r.a.createElement("div",{className:"l-contents_title u-c_k50"},Ze[n.user.language].SENT_HISTORY),r.a.createElement(jt.a,{to:"/capture".concat(window.rn()),className:"l-right c-icon c-icon_close",href:"/capture"},r.a.createElement(Be,{name:"close",style:{color:"#0070d2"}})))),r.a.createElement("div",{className:"l-contents_body"},r.a.createElement("p",{className:"mb-4 ml-2 text-sm text-grey-dark md:ml-0 md:mb-0"},Ze[n.user.language].HISTORY_NOTES),r.a.createElement("div",{className:"p-imports"},E.a.map(t,function(e,t){return r.a.createElement("div",{className:"p-import",key:t},r.a.createElement("div",{className:"p-import_head"},r.a.createElement("div",{className:"p-import_num"},t+1),r.a.createElement("div",{className:"p-import_date"},r.a.createElement("span",null,Ze[n.user.language].HISTORY_SEND_DATE," "),e.sentDate),e.exchangeDate&&r.a.createElement("div",{className:"p-import_date"},r.a.createElement("span",null,Ze[n.user.language].HISTORY_EXCHANGE_DAY," "),e.exchangeDate),e.memo&&r.a.createElement("div",{className:"p-import_memo"},r.a.createElement("pre",null,e.memo))))})),r.a.createElement("div",{className:"p-logs"},r.a.createElement(jt.a,{to:"/capture/logs".concat(window.rn()),className:"l-left c-icon"},r.a.createElement(Be,{name:"warn",style:{color:"#0070d2"}})," ",Ze[n.user.language].HISTORY_SHOW_LOGS)))))}),ta=(n(297),n(298),Object(o.b)(function(e){return{error:g(e)}},{}));function na(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var aa=Object(He.b)(ta,Object(He.j)("notifications","setNotifications",[]),Object(He.g)({removeNotification:function(e){var t=e.notifications,n=e.setNotifications;return function(e){n(E.a.reject(t,{id:e}))}}}),Object(He.g)({ask:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.removeNotification,r=e.setNotifications,o=n.onClose,i=void 0===o?E.a.noop:o,c=E.a.uniqueId("notification"),s=[].concat(na(e.notifications),[{id:c,message:t,onClose:function(){window.requestAnimationFrame(function(){return a(c)}),i()}}]);r(s)}}}),Object(He.i)(["error"],function(e){var t=e.error,n=e.ask;t&&n(E.a.get(t,"message","\u4e0d\u660e\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u5165\u529b\u5185\u5bb9\u3092\u3054\u78ba\u8a8d\u306e\u3046\u3048\u3001\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"))}))(function(e){var t=e.notifications;return r.a.createElement(mn.TransitionGroup,{className:"c-notifications"},E.a.map(t,function(e){var t=e.id,n=e.message,a=e.onClose;return r.a.createElement(mn.CSSTransition,{key:t,timeout:300,classNames:"fade"},r.a.createElement("div",{className:"c-notification"},r.a.createElement("span",{className:"c-notification-warn"},r.a.createElement(it,null)),r.a.createElement("div",{className:"p-2"},n),r.a.createElement("span",{className:"c-notification-close",onClick:a},r.a.createElement(ot,null))))}))});window.api=w,window.addEventListener("unhandledrejection",function(e){Ue.dispatch(h(e.reason))}),window.rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?";return e+Math.random().toString(36).slice(-8)};var ra=r.a.createElement(o.a,{store:Ue},r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,null),r.a.createElement(s.a,null,r.a.createElement(l.a,null,r.a.createElement(u.a,{exact:!0,path:"/capture/setting",component:bt}),r.a.createElement(u.a,{exact:!0,path:"/capture/logs",component:wt}),r.a.createElement(u.a,{exact:!0,path:"/capture/edit-photo/:index/:side",component:un}),r.a.createElement(u.a,{exact:!0,path:"/capture/list",component:Yn}),r.a.createElement(u.a,{exact:!0,path:"/capture/complete",component:qn}),r.a.createElement(u.a,{exact:!0,path:"/capture/history",component:ea}),r.a.createElement(u.a,{exact:!0,path:"/capture/edit/:index",component:Jn}),r.a.createElement(m.a,{exact:!0,from:"/capture",to:"/capture/list"}),r.a.createElement(m.a,{from:"*",to:"/capture"})))));c.a.render(ra,document.getElementById("root"))}},[[219,2,0]]]);