"use strict";angular.module("SB_NameCard_RegistService",[]).factory("$sfdcFunction",["$svrSettings",function(u){var e=[{selected:!1,id:"001100000182989AAA",index:0,title:"コネクシオ本舗",type:1,label2val:{"取引先 部門":"法人ビジネス企画部 コンサルティングサービス課","市区郡(請求先)":"新宿区","町名・番地(請求先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","郵便番号(請求先)":"〒160-6137","都道府(請求先)":"東京都"},contactCount:0,oppotunityCount:1,summary:["東京都","法人ビジネス企画部 コンサルティングサービス課"],values:["〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F","法人ビジネス企画部 コンサルティングサービス課"]},{selected:!1,id:"001100000182989AAA",index:1,title:"コネクシオコネクシオコネクシオ株式会社",type:1,label2val:{"取引先 部門":"法人ビジネス企画部 コンサルティングサービス課","市区郡(請求先)":"新宿区","町名・番地(請求先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","郵便番号(請求先)":"〒160-6137","都道府(請求先)":"東京都"},contactCount:1,oppotunityCount:2,summary:["東京都","法人ビジネス企画部 コンサルティングサービス課"],values:["〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F","法人ビジネス企画部 コンサルティングサービス課"]},{selected:!1,index:2,info:"既存の取引先を検索して指定します。",title:"その他の取引先を指定",type:2},{selected:!1,index:2,info:"取引先を新たに追加します。",title:"新規取引先追加",type:3}],t={accountId:"00110000018298YAAQ",bk_height:342,bk_image_id:"00P1000000ajqldEAA",bk_width:600,card_exchange_date:14593824e5,company_name:"株式会社サンブリッジソリューションズ",company_name_kana:"サンブリッジソリューションズ",contactId:"0031000000tEGXDAA4",division:"ソリューション事業部",height:360,id:"a001000001TBVJDAA5",image_id:"00P1000000ajqlYEAQ",list_name:"アプリテスト",name:"山本 貴文",name_kana:"ヤマモトタカフミ",ownerId:"00510000002XyC3AAK",ownerName:"沢野 名刺二",person_name_first:"貴文",person_name_last:"山本",photo:"",status:-1,title_name:"ソフトウェアエンジニア",width:600},n=[{selected:!1,id:"0031000000tEGWtAAO",index:0,title:"今津 圭敦",type:1,owner:"沢野 名刺二",label2val:{"メール":"k.imazu@conexio.co.jp","市区郡(郵送先)":"新宿区","役職":"チームリーダー","町名・番地(郵送先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","部署":"法人ビジネス企画部 コンサルティングサービス課","郵便番号(郵送先)":"〒160-6137","都道府県(郵送先)":"東京都"},summary:["法人ビジネス企画部 コンサルティングサービス課","チームリーダー","k.imazu@conexio.co.jp"],values:["法人ビジネス企画部 コンサルティングサービス課","チームリーダー","k.imazu@conexio.co.jp","〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F"]},{selected:!1,index:1,info:"既存の取引先を検索して指定します。",title:"その他の取引先責任者を指定",type:2},{selected:!1,index:2,info:"取引先責任者を新たに追加します。",title:"新規取引先責任者追加",type:3}],a=[{Id:"1234567890ABCDEFGHI",index:0,title:"大会社",type:2,label2val:{"取引先 部門":"法人ビジネス企画部 コンサルティングサービス課","市区郡(請求先)":"新宿区","町名・番地(請求先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","郵便番号(請求先)":"〒160-6137","都道府(請求先)":"東京都"},contactCount:1,oppotunityCount:2,summary:["東京都","法人ビジネス企画部 コンサルティングサービス課"],values:["〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F","法人ビジネス企画部 コンサルティングサービス課"]},{Id:"1234567890ABCDEFGHI",index:1,title:"中会社",type:2,label2val:{"取引先 部門":"法人ビジネス企画部 コンサルティングサービス課","市区郡(請求先)":"新宿区","町名・番地(請求先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","郵便番号(請求先)":"〒160-6137","都道府(請求先)":"東京都"},contactCount:1,oppotunityCount:2,summary:["東京都","法人ビジネス企画部 コンサルティングサービス課"],values:["〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F","法人ビジネス企画部 コンサルティングサービス課"]},{Id:"1234567890ABCDEFGHI",Name:"小会社",index:2,title:"中会社",type:2,label2val:{"取引先 部門":"法人ビジネス企画部 コンサルティングサービス課","市区郡(請求先)":"新宿区","町名・番地(請求先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","郵便番号(請求先)":"〒160-6137","都道府(請求先)":"東京都"},contactCount:1,oppotunityCount:2,summary:["東京都","法人ビジネス企画部 コンサルティングサービス課"],values:["〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F","法人ビジネス企画部 コンサルティングサービス課"]}],o=[{selected:!1,id:"0031000000tEGWtAAO",index:0,title:"山田 太郎",type:2,owner:"沢野 名刺二",label2val:{"メール":"taro@email.com","市区郡(郵送先)":"新宿区","役職":"部長","町名・番地(郵送先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","部署":"営業部","郵便番号(郵送先)":"〒160-6137","都道府県(郵送先)":"東京都"},summary:["営業部","部長","taro@email.com"],values:["営業部","部長","taro@email.com","〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F"]},{selected:!1,id:"0031000000tEGWtAAO",index:2,title:"山田 次郎",type:2,owner:"沢野 名刺二",label2val:{"メール":"jiro@email.com","市区郡(郵送先)":"新宿区","役職":"課長","町名・番地(郵送先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","部署":"企画部","郵便番号(郵送先)":"〒160-6137","都道府県(郵送先)":"東京都"},summary:["企画部","課長","jiro@email.com"],values:["企画部","課長","jiro@email.com","〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F"]},{selected:!1,id:"0031000000tEGWtAAO",index:2,title:"山田 三郎",type:2,owner:"沢野 名刺二",label2val:{"メール":"sabu@email.com","市区郡(郵送先)":"新宿区","役職":"係長","町名・番地(郵送先)":"西新宿8-17-1住友不動産新宿グランドタワー37F","部署":"開発部","郵便番号(郵送先)":"〒160-6137","都道府県(郵送先)":"東京都"},summary:["開発部","係長","sabu@email.com"],values:["開発部","係長","sabu@email.com","〒160-6137","東京都","新宿区","西新宿8-17-1住友不動産新宿グランドタワー37F"]}];return{getSVConfig:function(n,a){Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.getConfig",function(e,t){t.status?n(e):a(t)},{buffer:!1,escape:!1,timeout:12e4})},getRecordTypeInfo:function(e,n,a){Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.getRecordTypeInfo",e,function(e,t){t.status?n(e):a(t)},{escape:!1})},getNameCard:function(e,n,a){Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.getNameCard",e,function(e,t){t.status?n(e):a(t)},{escape:!1})},getAccountOptions:function(e,n,a){var t=u.get(),o={apexType:(""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.QueryOption",querySite:t.queryAccountWithDept,queryState:t.queryAccountWithState,queryCity:t.queryAccountWithCity,queryZip:t.queryAccountWithZip,acntRecTypeIds:t.queryAcntRecType?t.accountRecTypes:null,contRecTypeIds:t.queryContRecType?t.contactRecTypes:null};Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.getAccountOptions",e,o,function(e,t){t.status?n(e):a(t)},{escape:!1})},getContactOptions:function(e,t,n,a){var o=u.get(),c={apexType:(""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.QueryOption",querySite:o.queryAccountWithDept,queryState:o.queryAccountWithState,queryCity:o.queryAccountWithCity,queryZip:o.queryAccountWithZip,acntRecTypeIds:o.queryAcntRecType?o.accountRecTypes:null,contRecTypeIds:o.queryContRecType?o.contactRecTypes:null};Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.getContactOptions",e,angular.isDefined(t)?t:null,c,function(e,t){t.status?n(e):a(t)},{escape:!1})},getRecentlyViewed:function(e,n,a){var t=u.get();Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.getRecentlyViewed",e,t.queryAcntRecType?t.accountRecTypes:null,function(e,t){t.status?n(e):a(t)},{escape:!1})},getAccountContacts:function(e,n,a){var t=u.get();Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.getAccountContacts",e,t.queryContRecType?t.contactRecTypes:null,function(e,t){t.status?n(e):a(t)},{escape:!1})},searchAccount:function(e,n,a){var t=u.get();Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.searchAccount",e,t.queryAcntRecType?t.accountRecTypes:null,function(e,t){t.status?n(e):a(t)},{escape:!1})},searchContact:function(e,t,n,a){var o=u.get();Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.searchContact",e,t,o.queryContRecType?o.contactRecTypes:null,function(e,t){t.status?n(e):a(t)},{escape:!1})},registAccountContact:function(e,n,a){var t=u.get(),o=[],c={apexType:(""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.RegistTarget",cardId:e.cardId,acntId:e.accountId,contId:e.contactId,someId:null,createTodo:!1,todoDate:null,createChildAccount:!1};o.push(c);var i={apexType:(""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.RegistParam",objName:"Account",overwrite:t.overwriteAccount||!1,recTypeId:angular.isDefined(t.registRecType.account)?t.registRecType.account:null,ownerId:null,allowSave:e.accountAllowSave,orgNameWithDept:!1},r={apexType:(""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.RegistParam",objName:"Contact",overwrite:t.overwriteContact,recTypeId:angular.isDefined(t.registRecType.contact)?t.registRecType.contact:null,ownerId:null,allowSave:e.contactAllowSave||!1,orgNameWithDept:!1},l={apexType:(""!=namespace?namespace+".":"")+"SB_NC_AccountRegistCommonController.TodoParam",subject:null,activityDate:null,comment:null,ownerId:null},s={apexType:(""!=namespace?namespace+".":"")+"SB_NC_AccountRegistCommonController.RegistRequest",targets:o,acntParam:i,contParam:r,todoParam:l,someParam:null};Visualforce.remoting.Manager.invokeAction((""!=namespace?namespace+".":"")+"SB_NameCard_SRegistController.registAccountContact",s,function(e,t){t.status?n(e):a(t)},{escape:!1})},getDummyData:function(){return{accounts:e,card:t}},getContactData:function(){return n},getDummyCompanies:function(){return a},getDummyPersons:function(){return o}}}]).factory("$svrSettings",["$window",function(t){return{set:function(e){t.localStorage["svr-settings"]=JSON.stringify(e)},get:function(){return JSON.parse(t.localStorage["svr-settings"]||'{"overwriteAccount": true, "overwriteContact": true, "queryAccountWithDept": false, "queryAccountWithState": false, "queryAccountWithCity": false, "queryAccountWithZip": false, "queryAcntRecType": false, "queryAccountRecTypes": [], "queryContRecType": false, "queryContactRecTypes": [], "registRecType": {"account":null, "contact":null},  "version": "1.0"}')}}}]).factory("$svModal",["$uibModal","$log","$q",function(o,c,i){return{openDetail:function(e,t){var n=i.defer(),a=o.open({scope:e,animation:!1,backdrop:!0,templateUrl:t,size:"lg"});return a.result.then(function(){a=null,n.resolve()}),n.promise},openLoading:function(){return e=o.open({animation:!1,template:"&nbsp;",windowTemplateUrl:"loadingWindow.html",size:"sm",backdrop:!0})},closeLoading:function(){e&&(e.close(),e=null)},openConfirm:function(e,t){var n=i.defer(),a=o.open({scope:e,animation:!0,backdrop:"static",templateUrl:t,size:"sm"});return a.result.then(function(){c.info("Confirm OK at: "+new Date),a=null,n.resolve("OK")},function(){c.info("Confirm dismissed at: "+new Date),a=null,n.reject("Cancel")}),n.promise},openProgress:function(e){var t=i.defer(),n=o.open({scope:e,animation:!0,backdrop:"static",templateUrl:"uploading.html",size:"lg"});return n.result.then(function(){c.info("Upload completed at: "+new Date),n=null,t.resolve("success")}),t.promise},openWarning:function(e){var t=i.defer(),n=o.open({animation:!0,backdrop:"static",template:'<div class="modal-body"><p><i class="fa fa-exclamation-circle fa-lg" style="color:#2aabd2;"></i>&nbsp;'+e+'</p></div><div class="modal-footer" style="background-color :#f8f8ff"><button class="pull-right btn btn-info col-xs-4" ng-click="$close()">OK</button></div>',size:"sm"});return n.result.then(function(){n=null,t.resolve("success")},function(){n=null,t.reject("falt")}),t.promise},openImage:function(e){o.open({animation:!0,backdrop:!0,scope:e,templateUrl:"imageWindow.html",controller:"OpenImageCtrl",windowClass:"modalFrame modalBody",size:"lg"})}};var e}]);