<!-- /**
 *
 *  SB_NCL_DataTableCell
 *  リード拡張環境 一括統合用DataTable 用Cell
 *
 *
 *
 *
 *  Copyright (C) 2018 SunBridge Inc. All Rights Reserved.
 *
 *  @author mao
 *  @Version 拡張パッケージ：Lead Ex. 1.12
 *  @Version 拡張パッケージ：Lead Ex. 1.12 SV_DEV-1161 統合版の一括登録ではtodo登録の一括選択がない
 *
 **/ -->
<aura:component access="global" >
  <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
  <aura:attribute name="field" type="Map" /> <!-- 項目内容 -->
  <aura:attribute name="value" type="String"/> <!-- 項目の値 -->
  <aura:attribute name="checked" type="Boolean"/> <!-- チェックブックスの場合これを使う -->
  <aura:attribute name="label" type="String"/> <!-- 項目表示内容 -->
  <aura:attribute name="type" type="String" /> <!-- 項目タイプ -->
  <aura:attribute name="selectMap" type="Map" /> <!-- 名刺一覧のデータを保存されてます -->
  <aura:attribute name="recordId" type="String" /> <!-- 名刺ID -->
  <aura:attribute name="plickList" type="List" /> <!-- 選択リストの選択肢を保存されてます -->
  <aura:attribute name="cObjectMap" type="Map" /> <!-- レコード内容を保存されてます -->
  <aura:attribute name="eventName" type="String" /> <!-- 実行するイベントのname -->
  <aura:attribute name="width" type="String" /> <!-- Cellのwidth -->
  <aura:attribute name="index" type="Integer" /> <!-- 行index -->
  <aura:attribute name="showType" type="String" default="Lead"/> <!-- 表示タイプ -->
  <aura:registerEvent name="leadBulkRegistEvent" type="c:SB_NCL_BulkRegistComonEvent"/>
  <aura:method name="cleanPlickList" action="{!c.cleanPlickList}" access="PUBLIC"/>

  <!-- コンポネードgid -->
  <aura:attribute name="gid" type="String"/>
  <td style="{!if(v.field.fieldName=='ToDo', 'min-width: 120px;text-align: center;', 'min-width: 100px;')}" role="gridcell">
    <div class="slds-truncate" style="{!if(v.width != '', 'width:' + v.width + 'px', '')}">
      <aura:renderIf isTrue="{!v.field.type == 'string'}">
        {!v.value}
      </aura:renderIf>
      <aura:renderIf isTrue="{!v.field.type == 'email'}">
        <aura:renderIf isTrue="{!v.field.input == false}">
          <lightning:formattedEmail value="{!v.value}"/>
        </aura:renderIf>
        <aura:renderIf isTrue="{!v.field.input == true}">
          <ui:inputEmail value="{!v.value}" blur="{!c.changeValue}"/>
        </aura:renderIf>
      </aura:renderIf>
      <aura:renderIf isTrue="{!v.field.type == 'url'}">
        <aura:renderIf isTrue="{!v.field.input == false}">
          <lightning:formattedUrl label="{!v.label}" value="{!v.value}"/>
        </aura:renderIf>
        <aura:renderIf isTrue="{!v.field.input == true}">
          <ui:inputURL value="{!v.value}" label="{!v.label}" blur="{!c.changeValue}"/>
        </aura:renderIf>
      </aura:renderIf>
      <aura:renderIf isTrue="{!v.field.type == 'date'}">
        <aura:renderIf isTrue="{!v.field.input == false}">
          <lightning:formattedDateTime value="{!v.value}"/>
        </aura:renderIf>
        <aura:renderIf isTrue="{!v.field.input == true}">
          <ui:inputDate value="{!v.value}" blur="{!c.changeValue}"/>
        </aura:renderIf>
      </aura:renderIf>
      <aura:renderIf isTrue="{!v.field.type == 'number'}">
        <aura:renderIf isTrue="{!v.field.input == false}">
          <!--<lightning:formattedNumber value="{!v.value}"/>-->
        </aura:renderIf>
        <aura:renderIf isTrue="{!v.field.input == true}">
          <!-- <ui:inputNumber value="{!v.value}" blur="{!c.changeValue}"/>-->
        </aura:renderIf>
      </aura:renderIf>

      <aura:renderIf isTrue="{!v.field.type == 'checkbox'}">
          <c:SB_NCL_Checkbox boxid="{!v.index + v.field.fieldName}" fieldName="{!v.field.fieldName}" cObjectMap="{!v.cObjectMap}" checked="{!v.checked}" dis="{!v.field.input == false}" boxlabel=""/>
      </aura:renderIf>

      <aura:renderIf isTrue="{!v.field.type == 'plicklist'}">
        <aura:renderIf isTrue="{!v.field.input == false}">
          {!v.value}
        </aura:renderIf>
        <aura:renderIf isTrue="{!v.field.input == true}">
          <div class="slds-form-element" data-aura-rendered-by="1588:92;a">
           <label class="slds-form-element__label" for="{!v.index + v.field.fieldName}" data-aura-rendered-by="1589:92;a">
            <span class="" data-aura-rendered-by="1591:92;a"></span></label>
           <div class="slds-form-element__control slds-grow" data-aura-rendered-by="1593:92;a">
            <div class="slds-select_container" data-aura-rendered-by="1594:92;a">
             <select id="{!v.index + v.field.fieldName}" class="slds-select" data-aura-rendered-by="1595:92;a" onchange="{!c.changeValue}">
              <aura:iteration items="{!v.plickList }" var="va">
              <option label="{!va.label}" value="{!va.value}" selected="{!va.value == v.value}">{!va.label}</option>
            </aura:iteration>
             </select>
            </div>
           </div>
          </div>
          <!-- <Lightning:Select onchange="{!c.changeValue}">
            <aura:iteration items="{!v.plickList }" var="va">
              <option label="{!va.label}" value="{!va.value}" selected="{!va.value == v.value}"/>
            </aura:iteration>
          </Lightning:Select> -->
        </aura:renderIf>
      </aura:renderIf>
      </div>
  </td>
</aura:component>